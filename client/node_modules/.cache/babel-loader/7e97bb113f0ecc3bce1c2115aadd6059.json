{"ast":null,"code":"var _jsxFileName = \"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/Settings.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { MDBContainer, MDBInput, MDBBtn, MDBRow, MDBCol } from \"mdb-react-ui-kit\";\nimport useAuth from \"../hooks/useAuth\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Settings() {\n  _s();\n\n  var _auth$userData2, _auth$userData3, _auth$userData4, _auth$userData5, _auth$userData6, _auth$userData7, _auth$userData8, _auth$userData9;\n\n  const [oldPassword, setOldPassword] = useState();\n  const [newPassword, setNewPassword] = useState();\n  const [newPassword2, setNewPassword2] = useState();\n  const axiosInstance = useAxiosPrivate(); //Abfragen der Nutzerdaten aus Authentifizierungscontext\n\n  const {\n    auth\n  } = useAuth();\n  const [passwordError, setPasswordError] = useState(null);\n\n  function handlePasswordSubmit(event) {\n    var _auth$userData;\n\n    event.preventDefault(); // Validierung\n\n    if (oldPassword == \"\" || oldPassword == null) {\n      setPasswordError(\"Aktuelles Passwort eingeben.\");\n      return;\n    }\n\n    if (newPassword == \"\" || newPassword == null) {\n      setPasswordError(\"Neues Passwort eingeben.\");\n      return;\n    }\n\n    if (newPassword == \"\" || newPassword == null) {\n      setPasswordError(\"Neues Passwort wiederholen.\");\n      return;\n    }\n\n    if (newPassword !== newPassword2) {\n      setPasswordError(\"Neue Passwörter stimmen nicht überein.\");\n      return;\n    } // Neues Passwort \"newPassword\" zum Passwort machen:\n    // POST-Request\n\n\n    axiosInstance.patch(\"/change_password/\" + ((_auth$userData = auth.userData) === null || _auth$userData === void 0 ? void 0 : _auth$userData.id) + \"/\", {\n      password: newPassword,\n      password2: newPassword2,\n      oldPassword: oldPassword\n    }).then(res => {\n      setPasswordError(\"Neues Passwort erfolgreich angelegt.\");\n      return;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Benutzer-Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MDBRow, {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n          sm: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-3\",\n            children: \"Accountinformationen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Unternehmen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Name des Unternehmens: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), (_auth$userData2 = auth.userData) === null || _auth$userData2 === void 0 ? void 0 : _auth$userData2.employee.company.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"EORI-Nr.: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), (_auth$userData3 = auth.userData) === null || _auth$userData3 === void 0 ? void 0 : _auth$userData3.employee.company.eori_nr]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Stra\\xDFe u. Hausnr.: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), (_auth$userData4 = auth.userData) === null || _auth$userData4 === void 0 ? void 0 : _auth$userData4.employee.company.street]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"PLZ: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), (_auth$userData5 = auth.userData) === null || _auth$userData5 === void 0 ? void 0 : _auth$userData5.employee.company.city_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Stadt: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), (_auth$userData6 = auth.userData) === null || _auth$userData6 === void 0 ? void 0 : _auth$userData6.employee.company.city]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Land: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), (_auth$userData7 = auth.userData) === null || _auth$userData7 === void 0 ? void 0 : _auth$userData7.employee.company.country_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"E-Mail Adresse: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), (_auth$userData8 = auth.userData) === null || _auth$userData8 === void 0 ? void 0 : _auth$userData8.employee.company.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Telefonnr.: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), (_auth$userData9 = auth.userData) === null || _auth$userData9 === void 0 ? void 0 : _auth$userData9.employee.company.phone]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"my-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Eigenes Mitarbeiter-Konto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Account-Name: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), auth.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          sm: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-3\",\n            children: \"Passwort aktualisieren\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handlePasswordSubmit,\n            style: {\n              width: \"300px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(MDBInput, {\n              value: oldPassword,\n              onChange: e => setOldPassword(e.target.value),\n              autocomplete: \"new-password\",\n              className: \"mb-4\",\n              type: \"Password\",\n              id: \"newPassword\",\n              name: \"newPassword\",\n              label: \"Aktuelles Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              value: newPassword,\n              onChange: e => setNewPassword(e.target.value),\n              autocomplete: \"new-password\",\n              className: \"mb-3\",\n              type: \"Password\",\n              id: \"oldPassword\",\n              name: \"oldPassword\",\n              label: \"Neues Passwort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MDBInput, {\n              value: newPassword2,\n              onChange: e => setNewPassword2(e.target.value),\n              autocomplete: \"new-password\",\n              className: \"mb-4\",\n              type: \"Password\",\n              id: \"oldPassword2\",\n              name: \"oldPassword2\",\n              label: \"Neues Passwort wiederholen\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n              block: true,\n              type: \"submit\",\n              className: \"mb-4\",\n              children: \"Passwort aktualisieren\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), passwordError == \"Neues Passwort erfolgreich angelegt.\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-success\",\n              role: \"alert\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this) : passwordError !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              role: \"alert\",\n              children: passwordError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Settings, \"y25CE2AJHbNIWlvQUh1oSUcvEfU=\", false, function () {\n  return [useAxiosPrivate, useAuth];\n});\n\n_c = Settings;\nexport default Settings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/Settings.jsx"],"names":["React","useEffect","useState","MDBContainer","MDBInput","MDBBtn","MDBRow","MDBCol","useAuth","useAxiosPrivate","Settings","oldPassword","setOldPassword","newPassword","setNewPassword","newPassword2","setNewPassword2","axiosInstance","auth","passwordError","setPasswordError","handlePasswordSubmit","event","preventDefault","patch","userData","id","password","password2","then","res","catch","err","console","log","employee","company","name","eori_nr","street","city_code","city","country_code","email","phone","username","width","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  MDBContainer,\n  MDBInput,\n  MDBBtn,\n  MDBRow,\n  MDBCol,\n} from \"mdb-react-ui-kit\";\nimport useAuth from \"../hooks/useAuth\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\n\nfunction Settings() {\n  const [oldPassword, setOldPassword] = useState();\n  const [newPassword, setNewPassword] = useState();\n  const [newPassword2, setNewPassword2] = useState();\n\n  const axiosInstance = useAxiosPrivate();\n\n  //Abfragen der Nutzerdaten aus Authentifizierungscontext\n  const { auth } = useAuth();\n\n  const [passwordError, setPasswordError] = useState(null);\n\n  function handlePasswordSubmit(event) {\n    event.preventDefault();\n\n    // Validierung\n    if (oldPassword == \"\" || oldPassword == null) {\n      setPasswordError(\"Aktuelles Passwort eingeben.\");\n      return;\n    }\n    if (newPassword == \"\" || newPassword == null) {\n      setPasswordError(\"Neues Passwort eingeben.\");\n      return;\n    }\n    if (newPassword == \"\" || newPassword == null) {\n      setPasswordError(\"Neues Passwort wiederholen.\");\n      return;\n    }\n    if (newPassword !== newPassword2) {\n      setPasswordError(\"Neue Passwörter stimmen nicht überein.\");\n      return;\n    }\n\n    // Neues Passwort \"newPassword\" zum Passwort machen:\n    // POST-Request\n    axiosInstance\n      .patch(\"/change_password/\" + auth.userData?.id + \"/\", {\n        password: newPassword,\n        password2: newPassword2,\n        oldPassword: oldPassword,\n      })\n      .then((res) => {\n        setPasswordError(\"Neues Passwort erfolgreich angelegt.\");\n        return;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div>\n      <MDBContainer>\n        <h3>Benutzer-Account</h3>\n        <br />\n        <MDBRow className=\"mb-2\">\n          <MDBCol sm=\"6\">\n            <h4 className=\"mb-3\">Accountinformationen</h4>\n            <h5>Unternehmen</h5>\n            <p>\n              <b>Name des Unternehmens: </b>\n              <br />\n              {auth.userData?.employee.company.name}\n            </p>\n            <p>\n              <b>EORI-Nr.: </b>\n              <br />\n              {auth.userData?.employee.company.eori_nr}\n            </p>\n            <p>\n              <b>Straße u. Hausnr.: </b>\n              <br />\n              {auth.userData?.employee.company.street}\n            </p>\n            <p>\n              <b>PLZ: </b>\n              <br />\n              {auth.userData?.employee.company.city_code}\n            </p>\n            <p>\n              <b>Stadt: </b>\n              <br />\n              {auth.userData?.employee.company.city}\n            </p>\n            <p>\n              <b>Land: </b>\n              <br />\n              {auth.userData?.employee.company.country_code}\n            </p>\n            <p>\n              <b>E-Mail Adresse: </b>\n              <br />\n              {auth.userData?.employee.company.email}\n            </p>\n            <p>\n              <b>Telefonnr.: </b>\n              <br />\n              {auth.userData?.employee.company.phone}\n            </p>\n            <hr className=\"my-4\" />\n            <h5>Eigenes Mitarbeiter-Konto</h5>\n            <p>\n              <b>Account-Name: </b>\n              <br />\n              {auth.username}\n            </p>\n          </MDBCol>\n          <MDBCol sm=\"6\">\n            <h4 className=\"mb-3\">Passwort aktualisieren</h4>\n            <form onSubmit={handlePasswordSubmit} style={{ width: \"300px\" }}>\n              <MDBInput\n                value={oldPassword}\n                onChange={(e) => setOldPassword(e.target.value)}\n                autocomplete=\"new-password\"\n                className=\"mb-4\"\n                type=\"Password\"\n                id=\"newPassword\"\n                name=\"newPassword\"\n                label=\"Aktuelles Passwort\"\n              />\n              <MDBInput\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                autocomplete=\"new-password\"\n                className=\"mb-3\"\n                type=\"Password\"\n                id=\"oldPassword\"\n                name=\"oldPassword\"\n                label=\"Neues Passwort\"\n              />\n              <MDBInput\n                value={newPassword2}\n                onChange={(e) => setNewPassword2(e.target.value)}\n                autocomplete=\"new-password\"\n                className=\"mb-4\"\n                type=\"Password\"\n                id=\"oldPassword2\"\n                name=\"oldPassword2\"\n                label=\"Neues Passwort wiederholen\"\n              />\n\n              <MDBBtn block type=\"submit\" className=\"mb-4\">\n                Passwort aktualisieren\n              </MDBBtn>\n              {passwordError == \"Neues Passwort erfolgreich angelegt.\" ? (\n                <div className=\"alert alert-success\" role=\"alert\">\n                  {passwordError}\n                </div>\n              ) : passwordError !== null ? (\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {passwordError}\n                </div>\n              ) : null}\n            </form>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </div>\n  );\n}\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}