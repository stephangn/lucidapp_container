{"ast":null,"code":"import _asyncToGenerator from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import axiosInstance from\"../axiosApi\";import useAuth from\"../hooks/useAuth\";import{MDBRow,MDBCol,MDBInput,MDBBtn,MDBTabs,MDBTabsItem,MDBTabsLink,MDBTabsContent,MDBTabsPane}from\"mdb-react-ui-kit\";import\"./css/NotFound.css\";import UniLogo from\"../Uni_Logo.png\";import Lucid from\"../LUCID.jpg\";import{useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LOGIN_URL=\"/api/token/\";export default function Login(){var _location$state,_location$state$from;// -- Login --\nvar _useAuth=useAuth(),setAuth=_useAuth.setAuth;var navigate=useNavigate();var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pwd=_useState4[0],setPwd=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),errMsg=_useState6[0],setErrMsg=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),sucess=_useState8[0],setSucess=_useState8[1];// --- Komponenten für Registrierung --//\nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),eori_nr=_useState10[0],setEoriNr=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),street=_useState12[0],setStreet=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),city_code=_useState14[0],setZipCode=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),email=_useState16[0],setEmail=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),name=_useState18[0],setName=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),city=_useState20[0],setCity=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),phone=_useState22[0],setPhone=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),country_code=_useState24[0],setCountry=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),username=_useState26[0],setUsername=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),password=_useState28[0],setPassword=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),publickey=_useState30[0],setPubkey=_useState30[1];useEffect(function(){setErrMsg(\"\");},[user,pwd]);// Login\nvar handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _response$data,_response$data2,_response$data3,_response$data4,_response$data5,response,accessToken,roles,company,_err$response,_err$response2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return axiosInstance.post(LOGIN_URL,JSON.stringify({username:user,password:pwd}),{headers:{\"Content-Type\":\"application/json\"}});case 4:response=_context.sent;accessToken=response===null||response===void 0?void 0:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.access;roles=response===null||response===void 0?void 0:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.roles;company=response===null||response===void 0?void 0:(_response$data3=response.data)===null||_response$data3===void 0?void 0:_response$data3.company;//Speichern der Daten für künftige Anfragen\nlocalStorage.setItem(\"access_token\",accessToken);localStorage.setItem(\"refresh_token\",response===null||response===void 0?void 0:(_response$data4=response.data)===null||_response$data4===void 0?void 0:_response$data4.refresh);//speichern von Nutzernamen und Firma im lokalen Speicher\nlocalStorage.setItem(\"username\",response===null||response===void 0?void 0:(_response$data5=response.data)===null||_response$data5===void 0?void 0:_response$data5.user);localStorage.setItem(\"company\",company);setAuth({user:user,pwd:pwd,roles:roles,company:company,accessToken:accessToken});setUser(\"\");setPwd(\"\");setSucess(true);navigate(\"/\",{replace:true});//navigate(from, { replace: true });\n_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](1);if(!(_context.t0!==null&&_context.t0!==void 0&&_context.t0.response)){setErrMsg(\"Der Server antwortet nicht\");}else if(((_err$response=_context.t0.response)===null||_err$response===void 0?void 0:_err$response.status)===400){setErrMsg(\"Bitte alle Felder befüllen\");}else if(((_err$response2=_context.t0.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){setErrMsg(\"Falsche Login-Daten\");}else{setErrMsg(\"Allgemeiner Fehler\");}case 22:case\"end\":return _context.stop();}}},_callee,null,[[1,19]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();//Funktion zum registrieren eines Mitarbeiters\nvar registerEmployee=function registerEmployee(e){// Check Formular Validierung\nvar forms=document.getElementById(\"registerEmployeeForm\");if(forms.checkValidity()==false){console.log(\"Formular Eingabe inkorrekt.\");return;}e.preventDefault();try{var response=axiosInstance.post(\"/registration/\",{username:username,password:password,password2:password,company_id:eori_nr});setRegisterEmployeeCorrect(true);}catch(err){var _err$response3,_err$response4;console.log(err);if(!(err!==null&&err!==void 0&&err.response)){setErrMsg(\"Der Server antwortet nicht\");}else if(((_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status)===400){setErrMsg(\"Bitte alle Felder befüllen\");}else if(((_err$response4=err.response)===null||_err$response4===void 0?void 0:_err$response4.status)===401){setErrMsg(\"Sie sind nicht berechtigt\");}else{setErrMsg(\"Allgemeiner Fehler\");}}};// Registrierung eines Unternehmens\nfunction registerCompany(e){// Check Formular Validierung\nvar forms=document.getElementById(\"registerForm\");if(forms.checkValidity()==false){console.log(\"Formular Eingabe inkorrekt.\");return;}e.preventDefault();var newCompany={eori_nr:eori_nr,street:street,city_code:city_code,city:city,email:email,name:name,country_code:country_code,phone:phone,publickey:publickey};//firma hinzufügen\naxiosInstance.post(\"/companies/\",newCompany).then(function(res){console.log(res.data);setRegisterCorrect(true);}).catch(function(error){setErrMsg(error.message);//this.setState({ errorMessage: error.message });\nconsole.error(\"There was an error!\",error);}).then(registerEmployee(e));//firma als partner hinterlegen\n}// Validierung\nvar _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),registerCorrect=_useState32[0],setRegisterCorrect=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),registerEmployeeCorrect=_useState34[0],setRegisterEmployeeCorrect=_useState34[1];// -- Tab-Steuerung --\n// State über aktiven Tab\nvar _useState35=useState(\"login\"),_useState36=_slicedToArray(_useState35,2),fillActive=_useState36[0],setFillActive=_useState36[1];// Funktion zum wechseln des Tabs\nfunction handleFillClick(value){if(value===fillActive){return;}setFillActive(value);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{width:\"26rem\"},className:\"text-middle\",children:[/*#__PURE__*/_jsx(\"img\",{src:Lucid,style:{width:\"6rem\"},className:\"mb-5\"}),/*#__PURE__*/_jsx(\"img\",{src:UniLogo,style:{width:\"26rem\"},className:\"mb-5\"}),sucess?/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Du bist eingeloggt\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Zur Startseite\"})})]}):/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(MDBTabs,{pills:true,justify:true,className:\"mb-3\",children:[/*#__PURE__*/_jsx(MDBTabsItem,{children:/*#__PURE__*/_jsx(MDBTabsLink,{onClick:function onClick(){return handleFillClick(\"login\");},active:fillActive===\"login\",children:\"Login\"})}),/*#__PURE__*/_jsx(MDBTabsItem,{children:/*#__PURE__*/_jsx(MDBTabsLink,{onClick:function onClick(){return handleFillClick(\"register_company\");},active:fillActive===\"register_employee\"||fillActive===\"register_company\",children:\"Registrieren\"})})]}),/*#__PURE__*/_jsxs(MDBTabsContent,{children:[/*#__PURE__*/_jsxs(MDBTabsPane,{show:fillActive===\"login\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",type:\"username\",id:\"username\",name:\"username\",label:\"Nutzername\",onChange:function onChange(e){return setUser(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",type:\"password\",id:\"password\",name:\"password\",label:\"Passwort\",onChange:function onChange(e){return setPwd(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(MDBBtn,{type:\"submit\",className:\"mb-4\",block:true,children:\"Einloggen\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Noch nicht Mitglied?\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"javascript:;\",onClick:function onClick(){return handleFillClick(\"register_company\");},children:\"Registrieren\"})]})})]}),/*#__PURE__*/_jsx(\"p\",{className:errMsg?\"errmsg alert alert-danger\":\"offscreen\",\"aria-live\":\"assertive\",children:errMsg})]}),/*#__PURE__*/_jsx(MDBTabsPane,{show:fillActive===\"register_company\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"registerForm\",onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"name_firma\",label:\"Name des Unternehmens\",type:\"text\",required:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"eori\",type:\"number\",label:\"EORI-Nr.\",required:true,onChange:function onChange(e){return setEoriNr(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"strasse\",label:\"Stra\\xDFe u. Nr.\",type:\"text\",required:true,onChange:function onChange(e){return setStreet(e.target.value);}}),/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{className:\"col-4\",children:/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",type:\"number\",id:\"plz\",label:\"PLZ\",required:true,onChange:function onChange(e){return setZipCode(e.target.value);}})}),/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"stadt\",label:\"Stadt\",type:\"text\",required:true,onChange:function onChange(e){return setCity(e.target.value);}})})]}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-5\",id:\"land\",label:\"Land\",type:\"text\",required:true,onChange:function onChange(e){return setCountry(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",autocomplete:\"off\",id:\"email\",label:\"E-Mail Adresse\",type:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-5\",id:\"telefon\",label:\"Telefonnr.\",type:\"text\",required:true,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-5\",id:\"publickey\",label:\"Blockchain Publickey\",type:\"number\",required:true,onChange:function onChange(e){return setPubkey(e.target.value);}}),/*#__PURE__*/_jsx(\"hr\",{className:\"mb-5\"}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"mitarbeiter\",label:\"Name des Mitarbeiters\",type:\"text\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"passwort\",type:\"password\",label:\"Passwort\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(MDBBtn,{type:\"submit\",onClick:registerCompany,className:\"mb-4\",block:true,children:\"Registrieren\"}),registerCorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"errmsg alert alert-success\",\"aria-live\":\"assertive\",children:\"Registrierung erfolgreich. Sie k\\xF6nnen sich jetzt einloggen.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Unternehmen ist bereits im System?\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:;\",onClick:function onClick(){return handleFillClick(\"register_employee\");},children:[/*#__PURE__*/_jsx(\"br\",{}),\"Mitarbeiter registrieren\"]})]})})]})}),/*#__PURE__*/_jsx(MDBTabsPane,{show:fillActive===\"register_employee\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"registerEmployeeForm\",onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"eori\",type:\"number\",label:\"EORI-Nr. des Unternehmens\",required:true,onChange:function onChange(e){return setEoriNr(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-5\",id:\"name_firma\",label:\"Name des Mitarbeiters\",type:\"text\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(MDBInput,{className:\"mb-4\",id:\"passwort\",type:\"password\",label:\"Passwort\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(MDBBtn,{type:\"submit\",onClick:registerEmployee,className:\"mb-4\",block:true,children:\"Registrieren\"}),registerEmployeeCorrect&&/*#__PURE__*/_jsx(\"p\",{className:\"errmsg alert alert-success\",\"aria-live\":\"assertive\",children:\"Registrierung erfolgreich. Sie k\\xF6nnen sich jetzt einloggen.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Unternehmen ist noch nicht im System?\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:\"javascript:;\",onClick:function onClick(){return handleFillClick(\"register_company\");},children:[/*#__PURE__*/_jsx(\"br\",{}),\"Unternehmen registrieren\"]})]})})]})})]})]})]})});}","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/Login.jsx"],"names":["React","useState","useEffect","axiosInstance","useAuth","MDBRow","MDBCol","MDBInput","MDBBtn","MDBTabs","MDBTabsItem","MDBTabsLink","MDBTabsContent","MDBTabsPane","UniLogo","Lucid","useNavigate","useLocation","LOGIN_URL","Login","setAuth","navigate","location","from","state","pathname","user","setUser","pwd","setPwd","errMsg","setErrMsg","sucess","setSucess","eori_nr","setEoriNr","street","setStreet","city_code","setZipCode","email","setEmail","name","setName","city","setCity","phone","setPhone","country_code","setCountry","username","setUsername","password","setPassword","publickey","setPubkey","handleLogin","e","preventDefault","post","JSON","stringify","headers","response","accessToken","data","access","roles","company","localStorage","setItem","refresh","replace","status","registerEmployee","forms","document","getElementById","checkValidity","console","log","password2","company_id","setRegisterEmployeeCorrect","err","registerCompany","newCompany","then","res","setRegisterCorrect","catch","error","message","registerCorrect","registerEmployeeCorrect","fillActive","setFillActive","handleFillClick","value","width","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axiosInstance from \"../axiosApi\";\nimport useAuth from \"../hooks/useAuth\";\nimport {\n  MDBRow,\n  MDBCol,\n  MDBInput,\n  MDBBtn,\n  MDBTabs,\n  MDBTabsItem,\n  MDBTabsLink,\n  MDBTabsContent,\n  MDBTabsPane,\n} from \"mdb-react-ui-kit\";\n\nimport \"./css/NotFound.css\";\nimport UniLogo from \"../Uni_Logo.png\";\nimport Lucid from \"../LUCID.jpg\";\n\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nconst LOGIN_URL = \"/api/token/\";\n\nexport default function Login() {\n  // -- Login --\n  const { setAuth } = useAuth();\n\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from?.pathname || \"/\";\n\n  const [user, setUser] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [sucess, setSucess] = useState(false);\n\n  // --- Komponenten für Registrierung --//\n\n  const [eori_nr, setEoriNr] = useState(\"\");\n  const [street, setStreet] = useState(\"\");\n  const [city_code, setZipCode] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n\n  const [country_code, setCountry] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [publickey, setPubkey] = useState(\"\");\n\n  useEffect(() => {\n    setErrMsg(\"\");\n  }, [user, pwd]);\n\n  // Login\n  const handleLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await axiosInstance.post(\n        LOGIN_URL,\n        JSON.stringify({ username: user, password: pwd }),\n        {\n          headers: { \"Content-Type\": \"application/json\" },\n        }\n      );\n\n      const accessToken = response?.data?.access;\n      const roles = response?.data?.roles;\n      const company = response?.data?.company;\n\n      //Speichern der Daten für künftige Anfragen\n\n      localStorage.setItem(\"access_token\", accessToken);\n      localStorage.setItem(\"refresh_token\", response?.data?.refresh);\n      //speichern von Nutzernamen und Firma im lokalen Speicher\n      localStorage.setItem(\"username\", response?.data?.user);\n      localStorage.setItem(\"company\", company);\n      setAuth({ user, pwd, roles, company, accessToken });\n      setUser(\"\");\n      setPwd(\"\");\n      setSucess(true);\n      navigate(\"/\", { replace: true });\n      //navigate(from, { replace: true });\n    } catch (err) {\n      if (!err?.response) {\n        setErrMsg(\"Der Server antwortet nicht\");\n      } else if (err.response?.status === 400) {\n        setErrMsg(\"Bitte alle Felder befüllen\");\n      } else if (err.response?.status === 401) {\n        setErrMsg(\"Falsche Login-Daten\");\n      } else {\n        setErrMsg(\"Allgemeiner Fehler\");\n      }\n    }\n  };\n\n  //Funktion zum registrieren eines Mitarbeiters\n\n  const registerEmployee = (e) => {\n    // Check Formular Validierung\n    var forms = document.getElementById(\"registerEmployeeForm\");\n    if (forms.checkValidity() == false) {\n      console.log(\"Formular Eingabe inkorrekt.\");\n      return;\n    }\n\n    e.preventDefault();\n    try {\n      const response = axiosInstance.post(\"/registration/\", {\n        username: username,\n        password: password,\n        password2: password,\n        company_id: eori_nr,\n      });\n      setRegisterEmployeeCorrect(true);\n    } catch (err) {\n      console.log(err);\n      if (!err?.response) {\n        setErrMsg(\"Der Server antwortet nicht\");\n      } else if (err.response?.status === 400) {\n        setErrMsg(\"Bitte alle Felder befüllen\");\n      } else if (err.response?.status === 401) {\n        setErrMsg(\"Sie sind nicht berechtigt\");\n      } else {\n        setErrMsg(\"Allgemeiner Fehler\");\n      }\n    }\n  };\n\n  // Registrierung eines Unternehmens\n\n  function registerCompany(e) {\n    // Check Formular Validierung\n    var forms = document.getElementById(\"registerForm\");\n    if (forms.checkValidity() == false) {\n      console.log(\"Formular Eingabe inkorrekt.\");\n      return;\n    }\n\n    e.preventDefault();\n    const newCompany = {\n      eori_nr,\n      street,\n      city_code,\n      city,\n      email,\n      name,\n      country_code,\n      phone,\n      publickey,\n    };\n\n    //firma hinzufügen\n    axiosInstance\n      .post(\"/companies/\", newCompany)\n      .then((res) => {\n        console.log(res.data);\n        setRegisterCorrect(true);\n      })\n      .catch((error) => {\n        setErrMsg(error.message);\n        //this.setState({ errorMessage: error.message });\n        console.error(\"There was an error!\", error);\n      })\n      .then(registerEmployee(e));\n    //firma als partner hinterlegen\n  }\n\n  // Validierung\n  const [registerCorrect, setRegisterCorrect] = useState(false);\n  const [registerEmployeeCorrect, setRegisterEmployeeCorrect] = useState(false);\n\n  // -- Tab-Steuerung --\n  // State über aktiven Tab\n  const [fillActive, setFillActive] = useState(\"login\");\n\n  // Funktion zum wechseln des Tabs\n  function handleFillClick(value) {\n    if (value === fillActive) {\n      return;\n    }\n\n    setFillActive(value);\n  }\n\n  return (\n    <>\n      <div style={{ width: \"26rem\" }} className=\"text-middle\">\n        <img src={Lucid} style={{ width: \"6rem\" }} className=\"mb-5\" />\n        <img src={UniLogo} style={{ width: \"26rem\" }} className=\"mb-5\" />\n        {sucess ? (\n          <section>\n            <h1> Du bist eingeloggt</h1>\n            <br />\n            <p>\n              <a href=\"#\">Zur Startseite</a>\n            </p>\n          </section>\n        ) : (\n          <section>\n            <MDBTabs pills justify className=\"mb-3\">\n              <MDBTabsItem>\n                <MDBTabsLink\n                  onClick={() => handleFillClick(\"login\")}\n                  active={fillActive === \"login\"}\n                >\n                  Login\n                </MDBTabsLink>\n              </MDBTabsItem>\n              <MDBTabsItem>\n                <MDBTabsLink\n                  onClick={() => handleFillClick(\"register_company\")}\n                  active={\n                    fillActive === \"register_employee\" ||\n                    fillActive === \"register_company\"\n                  }\n                >\n                  Registrieren\n                </MDBTabsLink>\n              </MDBTabsItem>\n            </MDBTabs>\n\n            <MDBTabsContent>\n              <MDBTabsPane show={fillActive === \"login\"}>\n                <form onSubmit={handleLogin}>\n                  <br />\n                  <MDBInput\n                    className=\"mb-4\"\n                    type=\"username\"\n                    id=\"username\"\n                    name=\"username\"\n                    label=\"Nutzername\"\n                    onChange={(e) => setUser(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-4\"\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    label=\"Passwort\"\n                    onChange={(e) => setPwd(e.target.value)}\n                  />\n\n                  <br />\n\n                  <MDBBtn type=\"submit\" className=\"mb-4\" block>\n                    Einloggen\n                  </MDBBtn>\n\n                  <div className=\"text-center\">\n                    <p>\n                      Noch nicht Mitglied?{\" \"}\n                      <a\n                        href=\"javascript:;\"\n                        onClick={() => handleFillClick(\"register_company\")}\n                      >\n                        Registrieren\n                      </a>\n                    </p>\n                  </div>\n                </form>\n                <p\n                  className={errMsg ? \"errmsg alert alert-danger\" : \"offscreen\"}\n                  aria-live=\"assertive\"\n                >\n                  {errMsg}\n                </p>\n              </MDBTabsPane>\n              <MDBTabsPane show={fillActive === \"register_company\"}>\n                <form id=\"registerForm\" onSubmit={(e) => e.preventDefault()}>\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"name_firma\"\n                    label=\"Name des Unternehmens\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setName(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"eori\"\n                    type=\"number\"\n                    label=\"EORI-Nr.\"\n                    required\n                    onChange={(e) => setEoriNr(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"strasse\"\n                    label=\"Straße u. Nr.\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setStreet(e.target.value)}\n                  />\n                  <MDBRow>\n                    <MDBCol className=\"col-4\">\n                      <MDBInput\n                        className=\"mb-4\"\n                        type=\"number\"\n                        id=\"plz\"\n                        label=\"PLZ\"\n                        required\n                        onChange={(e) => setZipCode(e.target.value)}\n                      />\n                    </MDBCol>\n                    <MDBCol>\n                      <MDBInput\n                        className=\"mb-4\"\n                        id=\"stadt\"\n                        label=\"Stadt\"\n                        type=\"text\"\n                        required\n                        onChange={(e) => setCity(e.target.value)}\n                      />\n                    </MDBCol>\n                  </MDBRow>\n                  <MDBInput\n                    className=\"mb-5\"\n                    id=\"land\"\n                    label=\"Land\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setCountry(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-4\"\n                    autocomplete=\"off\"\n                    id=\"email\"\n                    label=\"E-Mail Adresse\"\n                    type=\"email\"\n                    required\n                    onChange={(e) => setEmail(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-5\"\n                    id=\"telefon\"\n                    label=\"Telefonnr.\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setPhone(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-5\"\n                    id=\"publickey\"\n                    label=\"Blockchain Publickey\"\n                    type=\"number\"\n                    required\n                    onChange={(e) => setPubkey(e.target.value)}\n                  />\n\n                  <hr className=\"mb-5\" />\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"mitarbeiter\"\n                    label=\"Name des Mitarbeiters\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setUsername(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"passwort\"\n                    type=\"password\"\n                    label=\"Passwort\"\n                    required\n                    onChange={(e) => setPassword(e.target.value)}\n                  />\n                  <MDBBtn\n                    type=\"submit\"\n                    onClick={registerCompany}\n                    className=\"mb-4\"\n                    block\n                  >\n                    Registrieren\n                  </MDBBtn>\n                  {registerCorrect && (\n                    <p\n                      className=\"errmsg alert alert-success\"\n                      aria-live=\"assertive\"\n                    >\n                      Registrierung erfolgreich. Sie können sich jetzt\n                      einloggen.\n                    </p>\n                  )}\n\n                  <div className=\"text-center\">\n                    <p>\n                      Unternehmen ist bereits im System?{\" \"}\n                      <a\n                        href=\"javascript:;\"\n                        onClick={() => handleFillClick(\"register_employee\")}\n                      >\n                        <br />\n                        Mitarbeiter registrieren\n                      </a>\n                    </p>\n                  </div>\n                </form>\n              </MDBTabsPane>\n              <MDBTabsPane show={fillActive === \"register_employee\"}>\n                <form\n                  id=\"registerEmployeeForm\"\n                  onSubmit={(e) => e.preventDefault()}\n                >\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"eori\"\n                    type=\"number\"\n                    label=\"EORI-Nr. des Unternehmens\"\n                    required\n                    onChange={(e) => setEoriNr(e.target.value)}\n                  />\n                  <MDBInput\n                    className=\"mb-5\"\n                    id=\"name_firma\"\n                    label=\"Name des Mitarbeiters\"\n                    type=\"text\"\n                    required\n                    onChange={(e) => setUsername(e.target.value)}\n                  />\n\n                  <MDBInput\n                    className=\"mb-4\"\n                    id=\"passwort\"\n                    type=\"password\"\n                    label=\"Passwort\"\n                    required\n                    onChange={(e) => setPassword(e.target.value)}\n                  />\n                  <MDBBtn\n                    type=\"submit\"\n                    onClick={registerEmployee}\n                    className=\"mb-4\"\n                    block\n                  >\n                    Registrieren\n                  </MDBBtn>\n                  {registerEmployeeCorrect && (\n                    <p\n                      className=\"errmsg alert alert-success\"\n                      aria-live=\"assertive\"\n                    >\n                      Registrierung erfolgreich. Sie können sich jetzt\n                      einloggen.\n                    </p>\n                  )}\n                  <div className=\"text-center\">\n                    <p>\n                      Unternehmen ist noch nicht im System?{\" \"}\n                      <a\n                        href=\"javascript:;\"\n                        onClick={() => handleFillClick(\"register_company\")}\n                      >\n                        <br />\n                        Unternehmen registrieren\n                      </a>\n                    </p>\n                  </div>\n                </form>\n              </MDBTabsPane>\n            </MDBTabsContent>\n          </section>\n        )}\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}