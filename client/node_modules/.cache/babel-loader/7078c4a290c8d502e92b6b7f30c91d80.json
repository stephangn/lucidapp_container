{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axiosInstance from \"../axiosApi\";\nimport useAuth from \"./useAuth\";\nimport useAxiosPrivate from \"./useAxiosPrivate\";\n\nconst useDataUpdate = () => {\n  _s();\n\n  const {\n    setAuth\n  } = useAuth();\n  const axiosInstance = useAxiosPrivate();\n\n  const dataUpdate = async () => {\n    console.log(`Neue Nutzerdaten werden angefordert`);\n    const response = await axiosInstance.get('user');\n    console.log(response.data[0]);\n    setAuth(prev => {\n      var _response$data$0$empl, _response$data$0$empl2, _response$data$0$empl3;\n\n      //console.log(`New Username received : ${response.data[0].username}`);\n      return { ...prev,\n        username: response.data[0].username,\n        company: (_response$data$0$empl = response.data[0].employee) === null || _response$data$0$empl === void 0 ? void 0 : _response$data$0$empl.company.name,\n        pubkey: (_response$data$0$empl2 = response.data[0].employee) === null || _response$data$0$empl2 === void 0 ? void 0 : _response$data$0$empl2.company.publickey,\n        eori_nr: (_response$data$0$empl3 = response.data[0].employee) === null || _response$data$0$empl3 === void 0 ? void 0 : _response$data$0$empl3.company.eori_nr,\n        role: response.data[0].role\n      };\n    });\n    return response.data.username;\n  };\n\n  return dataUpdate;\n};\n\n_s(useDataUpdate, \"w1/1usq1prNobEcHIMKRrSmUEbk=\", false, function () {\n  return [useAuth, useAxiosPrivate];\n});\n\nexport default useDataUpdate;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/hooks/useDataUpdate.js"],"names":["axiosInstance","useAuth","useAxiosPrivate","useDataUpdate","setAuth","dataUpdate","console","log","response","get","data","prev","username","company","employee","name","pubkey","publickey","eori_nr","role"],"mappings":";;AAAA,OAAOA,aAAP,MAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAGA,MAAMC,aAAa,GAAG,MAAM;AAAA;;AACxB,QAAM;AAAEC,IAAAA;AAAF,MAAcH,OAAO,EAA3B;AACA,QAAMD,aAAa,GAAGE,eAAe,EAArC;;AAEA,QAAMG,UAAU,GAAG,YAAW;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAa,qCAAb;AACA,UAAMC,QAAQ,GAAG,MAAMR,aAAa,CAACS,GAAd,CAAkB,MAAlB,CAAvB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACE,IAAT,CAAc,CAAd,CAAZ;AACAN,IAAAA,OAAO,CAACO,IAAI,IAAI;AAAA;;AACZ;AACA,aAAO,EACH,GAAGA,IADA;AAEHC,QAAAA,QAAQ,EAAEJ,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBE,QAFxB;AAGHC,QAAAA,OAAO,2BAAEL,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBI,QAAnB,0DAAE,sBAA2BD,OAA3B,CAAmCE,IAHzC;AAIHC,QAAAA,MAAM,4BAAER,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBI,QAAnB,2DAAE,uBAA2BD,OAA3B,CAAmCI,SAJxC;AAKHC,QAAAA,OAAO,4BAAEV,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBI,QAAnB,2DAAE,uBAA2BD,OAA3B,CAAmCK,OALzC;AAMHC,QAAAA,IAAI,EAAEX,QAAQ,CAACE,IAAT,CAAc,CAAd,EAAiBS;AANpB,OAAP;AAUH,KAZM,CAAP;AAaA,WAAOX,QAAQ,CAACE,IAAT,CAAcE,QAArB;AACH,GAlBD;;AAmBF,SAAOP,UAAP;AAED,CAzBD;;GAAMF,a;UACkBF,O,EACEC,e;;;AAyB1B,eAAeC,aAAf","sourcesContent":["import axiosInstance from \"../axiosApi\"\nimport useAuth from \"./useAuth\"\nimport useAxiosPrivate from \"./useAxiosPrivate\";\n\n\nconst useDataUpdate = () => {\n    const { setAuth } = useAuth();\n    const axiosInstance = useAxiosPrivate();\n\n    const dataUpdate = async() => {\n        console.log(`Neue Nutzerdaten werden angefordert`);\n        const response = await axiosInstance.get('user')\n        console.log(response.data[0])\n        setAuth(prev => {\n            //console.log(`New Username received : ${response.data[0].username}`);\n            return {\n                ...prev,\n                username: response.data[0].username,\n                company: response.data[0].employee?.company.name,\n                pubkey: response.data[0].employee?.company.publickey,\n                eori_nr: response.data[0].employee?.company.eori_nr,\n                role: response.data[0].role\n\n\n            }\n        });\n        return response.data.username; \n    }\n  return dataUpdate\n\n}\n\nexport default useDataUpdate"]},"metadata":{},"sourceType":"module"}