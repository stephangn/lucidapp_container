{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { accordionSummaryClasses } from \"@mui/material\";\nimport axiosInstance from \"../axiosApi\";\nimport useAuth from \"./useAuth\";\n\nconst useRefreshToken = () => {\n  _s();\n\n  const {\n    setAuth\n  } = useAuth();\n\n  const refresh = async () => {\n    console.log(\"refresh funktion ausgef端hrt\");\n    const response = await axiosInstance.post('/api/token/refresh/', //Refresh Token an Server f端r neuen Access Token\n    JSON.stringify({\n      refresh: localStorage.getItem(\"refresh_token\")\n    }));\n    setAuth(prev => {\n      console.log(JSON.stringify(prev));\n      console.log(response.data.access);\n      return { ...prev,\n        roles: response.data.roles,\n        accessToken: response.data.access\n      };\n    });\n    return response.data.access;\n  };\n\n  return refresh;\n};\n\n_s(useRefreshToken, \"ULyvyk72gQF34wX4GH57egc/0Yo=\", false, function () {\n  return [useAuth];\n});\n\nexport default useRefreshToken;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/hooks/useRefreshToken.js"],"names":["accordionSummaryClasses","axiosInstance","useAuth","useRefreshToken","setAuth","refresh","console","log","response","post","JSON","stringify","localStorage","getItem","prev","data","access","roles","accessToken"],"mappings":";;AAAA,SAASA,uBAAT,QAAwC,eAAxC;AACA,OAAOC,aAAP,MAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAGA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC1B,QAAM;AAAEC,IAAAA;AAAF,MAAcF,OAAO,EAA3B;;AAEA,QAAMG,OAAO,GAAG,YAAW;AACvBC,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACA,UAAMC,QAAQ,GAAG,MAAMP,aAAa,CAACQ,IAAd,CAAmB,qBAAnB,EACnB;AACAC,IAAAA,IAAI,CAACC,SAAL,CAAe;AAACN,MAAAA,OAAO,EAAEO,YAAY,CAACC,OAAb,CAAqB,eAArB;AAAV,KAAf,CAFmB,CAAvB;AAIAT,IAAAA,OAAO,CAACU,IAAI,IAAI;AACZR,MAAAA,OAAO,CAACC,GAAR,CAAYG,IAAI,CAACC,SAAL,CAAeG,IAAf,CAAZ;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACO,IAAT,CAAcC,MAA1B;AACA,aAAO,EACH,GAAGF,IADA;AAEHG,QAAAA,KAAK,EAAET,QAAQ,CAACO,IAAT,CAAcE,KAFlB;AAGHC,QAAAA,WAAW,EAAEV,QAAQ,CAACO,IAAT,CAAcC;AAHxB,OAAP;AAKH,KARM,CAAP;AASA,WAAOR,QAAQ,CAACO,IAAT,CAAcC,MAArB;AACH,GAhBD;;AAiBF,SAAOX,OAAP;AAED,CAtBD;;GAAMF,e;UACkBD,O;;;AAuBxB,eAAeC,eAAf","sourcesContent":["import { accordionSummaryClasses } from \"@mui/material\";\nimport axiosInstance from \"../axiosApi\"\nimport useAuth from \"./useAuth\"\n\n\nconst useRefreshToken = () => {\n    const { setAuth } = useAuth();\n\n    const refresh = async() => {\n        console.log(\"refresh funktion ausgef端hrt\")\n        const response = await axiosInstance.post('/api/token/refresh/', \n            //Refresh Token an Server f端r neuen Access Token\n            JSON.stringify({refresh: localStorage.getItem(\"refresh_token\")}),\n        );\n        setAuth(prev => {\n            console.log(JSON.stringify(prev));\n            console.log(response.data.access);\n            return {\n                ...prev,\n                roles: response.data.roles,\n                accessToken: response.data.access\n            }\n        });\n        return response.data.access; \n    }\n  return refresh\n\n}\n\nexport default useRefreshToken"]},"metadata":{},"sourceType":"module"}