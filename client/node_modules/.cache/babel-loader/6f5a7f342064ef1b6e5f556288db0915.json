{"ast":null,"code":"import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{MDBBtn,MDBCard,MDBCardBody,MDBCardTitle,MDBCardSubTitle,MDBCardText,MDBCol,MDBContainer,MDBIcon,MDBRow,MDBModal,MDBModalDialog,MDBModalContent,MDBModalHeader,MDBModalTitle,MDBModalBody,MDBModalFooter}from\"mdb-react-ui-kit\";import useAxiosPrivate from\"../../hooks/useAxiosPrivate\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Partner(props){// Delete Modal State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),deleteModal=_useState2[0],setDeleteModal=_useState2[1];function toggleShowDeleteModal(){setDeleteModal(!deleteModal);}var axiosInstance=useAxiosPrivate();// Hier Delete-Request von props.id\nfunction deletePartnership(){axiosInstance.patch(\"partnership/\"+props.id_relation+\"/\",{is_archived:true}).then(function(res){props.setSnackbarSuccess(true);props.setSnackbarMessage(\"Partner wurde entfernt.\");props.setReload(!props.reload);toggleShowDeleteModal();props.handleOpenSnackbar();}).catch(function(err){console.log(err.response);props.setSnackbarSuccess(false);props.setSnackbarMessage(\"Fehler beim Entfernen des Partners.\");props.setReload(!props.reload);toggleShowDeleteModal();props.handleOpenSnackbar();});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MDBCard,{children:/*#__PURE__*/_jsxs(MDBCardBody,{children:[/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsx(MDBCardTitle,{children:props.title})}),/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsx(MDBBtn,{outline:true,floating:true,className:\"float-end\",color:\"danger\",onClick:toggleShowDeleteModal,children:/*#__PURE__*/_jsx(MDBIcon,{fas:true,icon:\"trash-alt\",size:\"lg\"})})})]}),/*#__PURE__*/_jsx(MDBCardSubTitle,{children:/*#__PURE__*/_jsxs(\"i\",{children:[\"Hinzugef\\xFCgt am \",props.added]})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[props.addressStreet,/*#__PURE__*/_jsx(\"br\",{}),props.addressCity,\" \",/*#__PURE__*/_jsx(\"br\",{}),props.addressCountry]})}),/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[\"\\uD83D\\uDCE7 \",props.email,/*#__PURE__*/_jsx(\"br\",{}),\"\\u260E \",props.phone,/*#__PURE__*/_jsx(\"br\",{}),\"EORI-Nr.: \",props.eori]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{md:\"8\",lg:\"9\"}),/*#__PURE__*/_jsx(MDBCol,{md:\"4\",lg:\"3\",children:/*#__PURE__*/_jsx(Link,{style:{display:\"block\",margin:\"1rem 0\"},to:\"/partners/\"+props.id_relation.toString(),params:{title:\"Hello\"},children:/*#__PURE__*/_jsx(MDBBtn,{outline:true,className:\"float-end\",children:\"Auftrags\\xFCbersicht\"})},props.id_relation)})]})]})]})}),/*#__PURE__*/_jsx(MDBModal,{show:deleteModal,setShow:setDeleteModal,tabIndex:\"-1\",children:/*#__PURE__*/_jsx(MDBModalDialog,{children:/*#__PURE__*/_jsxs(MDBModalContent,{children:[/*#__PURE__*/_jsxs(MDBModalHeader,{children:[/*#__PURE__*/_jsx(MDBModalTitle,{children:\"Handelspartner entfernen\"}),/*#__PURE__*/_jsx(MDBBtn,{className:\"btn-close\",color:\"none\",onClick:toggleShowDeleteModal})]}),/*#__PURE__*/_jsxs(MDBModalBody,{children:[\"Wollen sie den Handelspartner \",/*#__PURE__*/_jsxs(\"b\",{children:[\"\\\"\",props.title,\"\\\"\"]}),\" wirklich aus ihren bestehenden Handelsbeziehungen entfernen? \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Um danach wieder einen Handel mit diesem Partner eingehen zu k\\xF6nnen, m\\xFCssen Sie erneut eine Handelsbeziehung etablieren. \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"(Hinweis: Die dem Partner zugeordneten Auftr\\xE4ge bleiben auch nach entfernen des Partners erhalten.)\"]}),/*#__PURE__*/_jsxs(MDBModalFooter,{children:[/*#__PURE__*/_jsx(MDBBtn,{color:\"danger\",onClick:toggleShowDeleteModal,children:\"Nicht entfernen\"}),/*#__PURE__*/_jsx(MDBBtn,{outline:true,color:\"danger\",onClick:deletePartnership,children:\"Entfernen\"})]})]})})})]});}export default Partner;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/components/Partners/Partner.jsx"],"names":["React","useState","MDBBtn","MDBCard","MDBCardBody","MDBCardTitle","MDBCardSubTitle","MDBCardText","MDBCol","MDBContainer","MDBIcon","MDBRow","MDBModal","MDBModalDialog","MDBModalContent","MDBModalHeader","MDBModalTitle","MDBModalBody","MDBModalFooter","useAxiosPrivate","Link","Partner","props","deleteModal","setDeleteModal","toggleShowDeleteModal","axiosInstance","deletePartnership","patch","id_relation","is_archived","then","res","setSnackbarSuccess","setSnackbarMessage","setReload","reload","handleOpenSnackbar","catch","err","console","log","response","title","added","addressStreet","addressCity","addressCountry","email","phone","eori","display","margin","toString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  MDBBtn,\n  MDBCard,\n  MDBCardBody,\n  MDBCardTitle,\n  MDBCardSubTitle,\n  MDBCardText,\n  MDBCol,\n  MDBContainer,\n  MDBIcon,\n  MDBRow,\n  MDBModal,\n  MDBModalDialog,\n  MDBModalContent,\n  MDBModalHeader,\n  MDBModalTitle,\n  MDBModalBody,\n  MDBModalFooter,\n} from \"mdb-react-ui-kit\";\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\nimport { Link } from \"react-router-dom\";\n\nfunction Partner(props) {\n  // Delete Modal State\n  const [deleteModal, setDeleteModal] = useState(false);\n\n  function toggleShowDeleteModal() {\n    setDeleteModal(!deleteModal);\n  }\n\n  const axiosInstance = useAxiosPrivate();\n\n  // Hier Delete-Request von props.id\n  function deletePartnership() {\n    axiosInstance\n      .patch(`partnership/` + props.id_relation + \"/\", { is_archived: true })\n      .then((res) => {\n        props.setSnackbarSuccess(true);\n        props.setSnackbarMessage(\"Partner wurde entfernt.\");\n        props.setReload(!props.reload);\n        toggleShowDeleteModal();\n        props.handleOpenSnackbar();\n      })\n      .catch((err) => {\n        console.log(err.response);\n        props.setSnackbarSuccess(false);\n        props.setSnackbarMessage(\"Fehler beim Entfernen des Partners.\");\n        props.setReload(!props.reload);\n        toggleShowDeleteModal();\n        props.handleOpenSnackbar();\n      });\n  }\n\n  return (\n    <>\n      <MDBCard>\n        <MDBCardBody>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardTitle>{props.title}</MDBCardTitle>\n              </MDBCol>\n              <MDBCol>\n                <MDBBtn\n                  outline\n                  floating\n                  className=\"float-end\"\n                  color=\"danger\"\n                  onClick={toggleShowDeleteModal}\n                >\n                  <MDBIcon fas icon=\"trash-alt\" size=\"lg\" />\n                </MDBBtn>\n              </MDBCol>\n            </MDBRow>\n\n            <MDBCardSubTitle>\n              <i>Hinzugefügt am {props.added}</i>\n            </MDBCardSubTitle>\n            <br />\n          </MDBContainer>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardText>\n                  {props.addressStreet}\n                  <br />\n                  {props.addressCity} <br />\n                  {props.addressCountry}\n                </MDBCardText>\n              </MDBCol>\n              <MDBCol>\n                <MDBCardText>\n                  📧 {props.email}\n                  <br />☎ {props.phone}\n                  <br />\n                  EORI-Nr.: {props.eori}\n                </MDBCardText>\n              </MDBCol>\n            </MDBRow>\n            <br />\n            <MDBRow>\n              <MDBCol md=\"8\" lg=\"9\"></MDBCol>\n              <MDBCol md=\"4\" lg=\"3\">\n                <Link\n                  style={{ display: \"block\", margin: \"1rem 0\" }}\n                  to={\"/partners/\" + props.id_relation.toString()}\n                  key={props.id_relation}\n                  params={{ title: \"Hello\" }}\n                >\n                  <MDBBtn outline className=\"float-end\">\n                    Auftragsübersicht\n                  </MDBBtn>\n                </Link>\n              </MDBCol>\n            </MDBRow>\n          </MDBContainer>\n        </MDBCardBody>\n      </MDBCard>\n\n      <MDBModal show={deleteModal} setShow={setDeleteModal} tabIndex=\"-1\">\n        <MDBModalDialog>\n          <MDBModalContent>\n            <MDBModalHeader>\n              <MDBModalTitle>Handelspartner entfernen</MDBModalTitle>\n              <MDBBtn\n                className=\"btn-close\"\n                color=\"none\"\n                onClick={toggleShowDeleteModal}\n              ></MDBBtn>\n            </MDBModalHeader>\n            <MDBModalBody>\n              Wollen sie den Handelspartner <b>\"{props.title}\"</b> wirklich aus\n              ihren bestehenden Handelsbeziehungen entfernen? <br /> <br />\n              Um danach wieder einen Handel mit diesem Partner eingehen zu\n              können, müssen Sie erneut eine Handelsbeziehung etablieren. <br />{\" \"}\n              <br />\n              (Hinweis: Die dem Partner zugeordneten Aufträge bleiben auch nach\n              entfernen des Partners erhalten.)\n            </MDBModalBody>\n\n            <MDBModalFooter>\n              <MDBBtn color=\"danger\" onClick={toggleShowDeleteModal}>\n                Nicht entfernen\n              </MDBBtn>\n              <MDBBtn outline color=\"danger\" onClick={deletePartnership}>\n                Entfernen\n              </MDBBtn>\n            </MDBModalFooter>\n          </MDBModalContent>\n        </MDBModalDialog>\n      </MDBModal>\n    </>\n  );\n}\n\nexport default Partner;\n"]},"metadata":{},"sourceType":"module"}