{"ast":null,"code":"import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{MDBBtn,MDBCard,MDBCardBody,MDBCardTitle,MDBCardFooter,MDBCardText,MDBCol,MDBContainer,MDBRow}from\"mdb-react-ui-kit\";import{Link}from\"react-router-dom\";import useAxiosPrivate from\"../../hooks/useAxiosPrivate\";import MuiAlert from\"@mui/material/Alert\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function DocumentTransaction(props){var axiosInstance=useAxiosPrivate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),declarationData=_useState2[0],setDeclarationData=_useState2[1];// State: Zollanmeldung vorhanden\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),declarationExists=_useState4[0],setDeclarationExists=_useState4[1];// State: Status Zollanmeldung\nvar _useState5=useState(\"ausstehend\"),_useState6=_slicedToArray(_useState5,2),confirmation=_useState6[0],setConfirmation=_useState6[1];// Zollanmeldungen abrufen\nuseEffect(function(){axiosInstance.get(\"declaration/\").then(function(res){setDeclarationData(res.data);var declaration=res.data;var anmeldungVorhanden=false;if(declaration.length!==0){for(var i in declaration){if(declaration[i].transaction==props.id){// Wenn Anmeldung Transaktion angehört setze auf true\nsetDeclarationExists(true);// Status Zollanmeldung abfragen\nsetConfirmation(declaration[i].status_confirmation);}}}});},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MDBCard,{children:/*#__PURE__*/_jsxs(MDBCardBody,{children:[/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardTitle,{children:[props.isImporteur?\"Import: \":\"Export: \",props.description]})})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[/*#__PURE__*/_jsxs(\"b\",{children:[\"Handelspartner\",\" \",props.isImporteur?\"(Exporteur)\":\"(Importeur)\"]}),/*#__PURE__*/_jsx(\"br\",{}),props.name,/*#__PURE__*/_jsx(\"br\",{}),props.street,/*#__PURE__*/_jsx(\"br\",{}),props.cityCode,\" \",props.city,\", \",props.countryCode]})}),/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Dokumente insgesamt: \"}),props.numberInvoiceDocuments+props.numberOtherDocuments,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Rechnungsdokumente: \"}),props.numberInvoiceDocuments,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Zollanmeldung: \"}),declarationExists?\"liegt vor\":\"ausstehend\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Zollbescheid: \"}),confirmation]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{md:\"8\",lg:\"9\",children:props.numberInvoiceDocuments==0?/*#__PURE__*/_jsx(MuiAlert,{severity:\"info\",sx:{my:1},children:\"Transaktion angelegt. Rechnung hochladen um Zollanmeldung durchf\\xFChren zu k\\xF6nnen.\"}):props.numberInvoiceDocuments!==0&&declarationExists==false?/*#__PURE__*/_jsx(MuiAlert,{severity:\"warning\",sx:{my:1},children:\"Rechnung liegt vor. Zollanmeldung ausf\\xFChren.\"}):declarationExists==true&&confirmation==\"ausstehend\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"info\",sx:{my:1},children:\"Zollanmeldung abgeschickt. Warte auf Zollbescheid.\"}):confirmation==\"bestätigt\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"success\",sx:{my:1},children:\"Zollanmeldung angenommen.\"}):confirmation==\"abgelehnt\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"error\",sx:{my:1},children:\"Zollanmeldung angenommen.\"}):null}),/*#__PURE__*/_jsx(MDBCol,{md:\"4\",lg:\"3\",children:props.isImporteur==true?/*#__PURE__*/_jsx(\"div\",{className:\"float-end\",children:declarationExists==true||props.numberInvoiceDocuments==0?/*#__PURE__*/_jsx(MDBBtn,{style:{display:\"block\",margin:\"1rem 0\"},disabled:true,className:\"\",children:\"Zollanmeldung\"}):/*#__PURE__*/_jsx(Link,{style:{display:\"block\",margin:\"1rem 0\"},to:\"declaration\",params:{title:\"Hello\"},children:/*#__PURE__*/_jsx(MDBBtn,{className:\"\",children:\"Zollanmeldung\"})})}):null})]})]}),/*#__PURE__*/_jsx(MDBCardFooter,{children:/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{md:\"4\",children:[\"Hinzugef\\xFCgt: \",props.dateAdded]}),/*#__PURE__*/_jsxs(MDBCol,{md:\"4\",children:[\"Zuletzt aktualisiert: \",props.dateProcessed]})]})})]})})});}export default DocumentTransaction;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/components/Documents/DocumentTransaction.jsx"],"names":["React","useState","useEffect","MDBBtn","MDBCard","MDBCardBody","MDBCardTitle","MDBCardFooter","MDBCardText","MDBCol","MDBContainer","MDBRow","Link","useAxiosPrivate","MuiAlert","DocumentTransaction","props","axiosInstance","declarationData","setDeclarationData","declarationExists","setDeclarationExists","confirmation","setConfirmation","get","then","res","data","declaration","anmeldungVorhanden","length","i","transaction","id","status_confirmation","isImporteur","description","name","street","cityCode","city","countryCode","numberInvoiceDocuments","numberOtherDocuments","my","display","margin","title","dateAdded","dateProcessed"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  MDBBtn,\n  MDBCard,\n  MDBCardBody,\n  MDBCardTitle,\n  MDBCardFooter,\n  MDBCardText,\n  MDBCol,\n  MDBContainer,\n  MDBRow,\n} from \"mdb-react-ui-kit\";\nimport { Link } from \"react-router-dom\";\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\n\nimport MuiAlert from \"@mui/material/Alert\";\n\nfunction DocumentTransaction(props) {\n  const axiosInstance = useAxiosPrivate();\n\n  const [declarationData, setDeclarationData] = useState();\n\n  // State: Zollanmeldung vorhanden\n  const [declarationExists, setDeclarationExists] = useState(false);\n  // State: Status Zollanmeldung\n  const [confirmation, setConfirmation] = useState(\"ausstehend\");\n\n  // Zollanmeldungen abrufen\n  useEffect(() => {\n    axiosInstance.get(\"declaration/\").then((res) => {\n      setDeclarationData(res.data);\n      let declaration = res.data;\n      let anmeldungVorhanden = false;\n\n      if (declaration.length !== 0) {\n        for (let i in declaration) {\n          if (declaration[i].transaction == props.id) {\n            // Wenn Anmeldung Transaktion angehört setze auf true\n            setDeclarationExists(true);\n            // Status Zollanmeldung abfragen\n            setConfirmation(declaration[i].status_confirmation);\n          }\n        }\n      }\n    });\n  }, []);\n\n  return (\n    <div>\n      <MDBCard>\n        <MDBCardBody>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardTitle>\n                  {props.isImporteur ? \"Import: \" : \"Export: \"}\n                  {props.description}\n                </MDBCardTitle>\n              </MDBCol>\n            </MDBRow>\n\n            <br />\n          </MDBContainer>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardText>\n                  <b>\n                    Handelspartner{\" \"}\n                    {props.isImporteur ? \"(Exporteur)\" : \"(Importeur)\"}\n                  </b>\n                  <br />\n                  {props.name}\n                  <br />\n                  {props.street}\n                  <br />\n                  {props.cityCode} {props.city}, {props.countryCode}\n                </MDBCardText>\n              </MDBCol>\n              <MDBCol>\n                <MDBCardText>\n                  <b>Dokumente insgesamt: </b>\n                  {props.numberInvoiceDocuments + props.numberOtherDocuments}\n                  <br />\n                  <b>Rechnungsdokumente: </b>\n                  {props.numberInvoiceDocuments}\n                  <br />\n                  <b>Zollanmeldung: </b>\n                  {declarationExists ? \"liegt vor\" : \"ausstehend\"}\n                  <br />\n                  <b>Zollbescheid: </b>\n                  {confirmation}\n                </MDBCardText>\n              </MDBCol>\n            </MDBRow>\n            <br />\n            <MDBRow>\n              <MDBCol md=\"8\" lg=\"9\">\n                {props.numberInvoiceDocuments == 0 ? (\n                  <MuiAlert severity=\"info\" sx={{ my: 1 }}>\n                    Transaktion angelegt. Rechnung hochladen um Zollanmeldung\n                    durchführen zu können.\n                  </MuiAlert>\n                ) : props.numberInvoiceDocuments !== 0 &&\n                  declarationExists == false ? (\n                  <MuiAlert severity=\"warning\" sx={{ my: 1 }}>\n                    Rechnung liegt vor. Zollanmeldung ausführen.\n                  </MuiAlert>\n                ) : declarationExists == true &&\n                  confirmation == \"ausstehend\" ? (\n                  <MuiAlert severity=\"info\" sx={{ my: 1 }}>\n                    Zollanmeldung abgeschickt. Warte auf Zollbescheid.\n                  </MuiAlert>\n                ) : confirmation == \"bestätigt\" ? (\n                  <MuiAlert severity=\"success\" sx={{ my: 1 }}>\n                    Zollanmeldung angenommen.\n                  </MuiAlert>\n                ) : confirmation == \"abgelehnt\" ? (\n                  <MuiAlert severity=\"error\" sx={{ my: 1 }}>\n                    Zollanmeldung angenommen.\n                  </MuiAlert>\n                ) : null}\n              </MDBCol>\n              <MDBCol md=\"4\" lg=\"3\">\n                {props.isImporteur == true ? (\n                  <div className=\"float-end\">\n                    {declarationExists == true ||\n                    props.numberInvoiceDocuments == 0 ? (\n                      <MDBBtn\n                        style={{ display: \"block\", margin: \"1rem 0\" }}\n                        disabled\n                        className=\"\"\n                      >\n                        Zollanmeldung\n                      </MDBBtn>\n                    ) : (\n                      <Link\n                        style={{ display: \"block\", margin: \"1rem 0\" }}\n                        to={`declaration`}\n                        params={{ title: \"Hello\" }}\n                      >\n                        <MDBBtn className=\"\">Zollanmeldung</MDBBtn>\n                      </Link>\n                    )}\n                  </div>\n                ) : null}\n              </MDBCol>\n            </MDBRow>\n          </MDBContainer>\n          <MDBCardFooter>\n            <MDBRow>\n              <MDBCol md=\"4\">Hinzugefügt: {props.dateAdded}</MDBCol>\n              <MDBCol md=\"4\">\n                Zuletzt aktualisiert: {props.dateProcessed}\n              </MDBCol>\n            </MDBRow>\n          </MDBCardFooter>\n        </MDBCardBody>\n      </MDBCard>\n    </div>\n  );\n}\n\nexport default DocumentTransaction;\n"]},"metadata":{},"sourceType":"module"}