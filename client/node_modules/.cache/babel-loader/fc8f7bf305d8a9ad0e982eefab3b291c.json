{"ast":null,"code":"var _jsxFileName = \"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport PreviewInvoice from \"../components/Documents/PreviewInvoice\";\nimport PreviewOther from \"../components/Documents/PreviewOther\";\nimport { MDBSpinner } from \"mdb-react-ui-kit\";\nimport \"./css/LoadingSpinner.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DocumentDetail() {\n  _s();\n\n  //URL Parameter abfragen\n  const {\n    documentID\n  } = useParams();\n  const axiosInstance = useAxiosPrivate();\n  const [documentData, setDocumentData] = useState();\n  const [invoiceData, setInvoiceData] = useState();\n  const [transactionData, setTransactionData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [fileLink, setFileLink] = useState();\n  const [isInvoice, setIsInvoice] = useState(false);\n  useEffect(() => {\n    console.log(documentData);\n  }, [documentData]);\n  useEffect(() => {\n    axiosInstance.get(`/documents/${documentID}/`).then(res => {\n      setDocumentData(res.data);\n      axiosInstance.get(`/transactions/${res.data.transaction}/`).then(resT => {\n        setTransactionData(resT.data);\n\n        if (res.data.type == \"Rechnung\") {\n          axiosInstance.get(`/invoice/${documentID}/`).then(res => {\n            setInvoiceData(res.data);\n\n            if (res.data.type == \"Rechnung\") {\n              setIsInvoice(true);\n              setIsLoading(false);\n            }\n          });\n        } else {\n          axiosInstance.get(`/file/${res.data.file}/`).then(resF => {\n            setFileLink(resF.data.file);\n            setIsLoading(false);\n          });\n        }\n      });\n    });\n  }, []);\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loadingSpinner\",\n      children: /*#__PURE__*/_jsxDEV(MDBSpinner, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"L\\xE4dt..\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : isInvoice ? /*#__PURE__*/_jsxDEV(PreviewInvoice, {\n      invoiceData: invoiceData,\n      transactionData: transactionData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(PreviewOther, {\n      documentData: documentData,\n      transactionData: transactionData,\n      fileLink: fileLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(DocumentDetail, \"MubLyq0KPK+LZ0/O9JMMqYDroPw=\", false, function () {\n  return [useParams, useAxiosPrivate];\n});\n\n_c = DocumentDetail;\nexport default DocumentDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocumentDetail\");","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentDetail.jsx"],"names":["React","useState","useEffect","useParams","useAxiosPrivate","PreviewInvoice","PreviewOther","MDBSpinner","DocumentDetail","documentID","axiosInstance","documentData","setDocumentData","invoiceData","setInvoiceData","transactionData","setTransactionData","isLoading","setIsLoading","fileLink","setFileLink","isInvoice","setIsInvoice","console","log","get","then","res","data","transaction","resT","type","file","resF"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport PreviewInvoice from \"../components/Documents/PreviewInvoice\";\nimport PreviewOther from \"../components/Documents/PreviewOther\";\nimport { MDBSpinner } from \"mdb-react-ui-kit\";\nimport \"./css/LoadingSpinner.css\";\n\nfunction DocumentDetail() {\n  //URL Parameter abfragen\n  const { documentID } = useParams();\n  const axiosInstance = useAxiosPrivate();\n  const [documentData, setDocumentData] = useState();\n  const [invoiceData, setInvoiceData] = useState();\n  const [transactionData, setTransactionData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [fileLink, setFileLink] = useState();\n\n  const [isInvoice, setIsInvoice] = useState(false);\n\n  useEffect(() => {\n    console.log(documentData);\n  }, [documentData]);\n\n  useEffect(() => {\n    axiosInstance.get(`/documents/${documentID}/`).then((res) => {\n      setDocumentData(res.data);\n      axiosInstance\n        .get(`/transactions/${res.data.transaction}/`)\n        .then((resT) => {\n          setTransactionData(resT.data);\n          if (res.data.type == \"Rechnung\") {\n            axiosInstance.get(`/invoice/${documentID}/`).then((res) => {\n              setInvoiceData(res.data);\n              if (res.data.type == \"Rechnung\") {\n                setIsInvoice(true);\n                setIsLoading(false);\n              }\n            });\n          } else {\n            axiosInstance.get(`/file/${res.data.file}/`).then((resF) => {\n              setFileLink(resF.data.file);\n              setIsLoading(false);\n            });\n          }\n        });\n    });\n  }, []);\n\n  useEffect(() => {}, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"loadingSpinner\">\n          <MDBSpinner>\n            <span className=\"visually-hidden\">LÃ¤dt..</span>\n          </MDBSpinner>\n        </div>\n      ) : isInvoice ? (\n        <PreviewInvoice\n          invoiceData={invoiceData}\n          transactionData={transactionData}\n        ></PreviewInvoice>\n      ) : (\n        <PreviewOther\n          documentData={documentData}\n          transactionData={transactionData}\n          fileLink={fileLink}\n        ></PreviewOther>\n      )}\n    </>\n  );\n}\n\nexport default DocumentDetail;\n"]},"metadata":{},"sourceType":"module"}