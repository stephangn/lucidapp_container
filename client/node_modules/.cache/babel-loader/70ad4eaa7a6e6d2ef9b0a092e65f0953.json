{"ast":null,"code":"import _asyncToGenerator from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{MDBBtn,MDBCard,MDBCardBody,MDBCardTitle,MDBCardFooter,MDBCardText,MDBCol,MDBContainer,MDBRow,MDBModal,MDBModalDialog,MDBModalContent,MDBModalHeader,MDBModalTitle,MDBModalBody,MDBModalFooter,MDBIcon}from\"mdb-react-ui-kit\";import{getZollanmeldung}from\"../../Web3Client.js\";import useAxiosPrivate from\"../../hooks/useAxiosPrivate.js\";import MuiAlert from\"@mui/material/Alert\";// Snackbar Alert\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ZollDocumentTransaction(props){var axiosInstance=useAxiosPrivate();var _useState=useState(props.declarationData.status_verificiation),_useState2=_slicedToArray(_useState,2),verified=_useState2[0],setVerified=_useState2[1];var _useState3=useState(props.declarationData.status_confirmation),_useState4=_slicedToArray(_useState3,2),confirmation=_useState4[0],setConfirmation=_useState4[1];function abgleichBlockchain(_x){return _abgleichBlockchain.apply(this,arguments);}function _abgleichBlockchain(){_abgleichBlockchain=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_blockchain_zid){var crypto;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:crypto=require(\"crypto\");console.log(\"Zollanmeldung ID:\"+_blockchain_zid);_context.next=4;return getZollanmeldung(_blockchain_zid)//blockchain Transaktion\n.then(function(tx){console.log(\"Zollwert: \"+tx[0].zollwert+\", \"+(props.invoiceData.transport_costs+props.invoiceData.total_value));//Abgleich Blockchain-Anwender\n//Abgleich Blockchain-Anwender\nif(tx[0].gesamtbetrag==props.invoiceData.total_value&&tx[0].zollwert==props.invoiceData.transport_costs+props.invoiceData.total_value&&tx[0].lieferkosten==props.declarationData.invoice.transport_costs&&tx[0].incoterms==props.declarationData.lieferbedingung&&tx[0].exporteur==props.declarationData.exporteur.publickey&&tx[0].importeur==props.declarationData.importeur.publickey&&tx[0].zoll==props.declarationData.customs_office.publickey&&tx[0].anmelder==props.declarationData.importeur.publickey&&tx[1].gesamtbetrag==props.invoiceData.total_value&&tx[1].waehrung==props.declarationData.invoice.currency&&tx[1].exporteur==props.declarationData.exporteur.publickey&&tx[1].importeur==props.declarationData.importeur.publickey&&tx[1].datum==props.declarationData.invoice.issue_date&&tx[1].rechnungsposten==crypto.createHash(\"sha512\").update(props.invoiceData.invoiceItem).digest(\"hex\")&&tx[1].lieferkosten==props.declarationData.invoice.transport_costs){console.log(\"Verifikation: Daten sind korrekt\");// props.setIsVerified(true);\n// props.setIsVerified(true);\naxiosInstance.patch(\"declaration_auth/\"+props.declarationData.id+\"/\",{status_verificiation:\"korrekt\"});props.handleCloseBackdrop();props.setSnackbarSuccess(true);props.setSnackbarMessage(\"Korrektheit der Daten wurde verifiziert.\");props.handleOpenSnackbar();setVerified(\"korrekt\");props.setReload(!props.reload);return true;}else{console.log(\"Verifikation: Fehler liegt vor\");axiosInstance.patch(\"declaration_auth/\"+props.declarationData.id+\"/\",{status_verificiation:\"inkorrekt\"});props.handleCloseBackdrop();props.setSnackbarSuccess(false);props.setSnackbarMessage(\"Warnung: Daten stimmen nicht mit Blockchain überein.\");props.handleOpenSnackbar();setVerified(\"inkorrekt\");props.setReload(!props.reload);return false;}}).catch(function(err){console.log(err);props.handleCloseBackdrop();props.setSnackbarSuccess(false);props.setSnackbarMessage(\"Fehler bei Verifikation der Daten.\");return false;});case 4:case\"end\":return _context.stop();}}},_callee);}));return _abgleichBlockchain.apply(this,arguments);}function handleVerification(){return _handleVerification.apply(this,arguments);}function _handleVerification(){_handleVerification=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://setIsVerified(true)\nprops.handleToggleBackdrop();abgleichBlockchain(props.declarationData.blockchain_zid).then(function(res){console.log(res);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return _handleVerification.apply(this,arguments);}function handleConfirmation(){axiosInstance.patch(\"declaration_auth/\"+props.declarationData.id+\"/\",{status_confirmation:\"bestätigt\"}).then(function(res){console.log(\"Zollanmeldung bestätigt\");toggleShowConfirmModal();props.setReload(!props.reload);// Snackbar\nprops.setSnackbarSuccess(true);props.setSnackbarMessage(\"Zollanmeldung bestätigt.\");props.handleOpenSnackbar();setConfirmation(\"bestätigt\");}).catch(function(err){console.log(err);});}function handleReject(){axiosInstance.patch(\"declaration_auth/\"+props.declarationData.id+\"/\",{status_confirmation:\"abgelehnt\"}).then(function(res){console.log(\"Zollanmeldung abgelehnt\");toggleShowRejectModal();props.setReload(!props.reload);// Snackbar\nprops.setSnackbarSuccess(false);props.setSnackbarMessage(\"Zollanmeldung abgelehnt.\");props.handleOpenSnackbar();setConfirmation(\"abgelehnt\");}).catch(function(err){console.log(err);});}// Reject Modal State\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),rejectModal=_useState6[0],setRejectModal=_useState6[1];function toggleShowRejectModal(){setRejectModal(!rejectModal);}// Confirm Modal State\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),confirmModal=_useState8[0],setConfirmModal=_useState8[1];function toggleShowConfirmModal(){setConfirmModal(!confirmModal);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MDBCard,{children:/*#__PURE__*/_jsxs(MDBCardBody,{children:[/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsx(MDBRow,{children:/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsx(MDBCardTitle,{children:props.declarationData.transaction.description})})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Versender\"}),/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.exporteur.name,/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.exporteur.street,/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.exporteur.city_code,\" \",props.declarationData.exporteur.city,\",\",\" \",props.declarationData.exporteur.country_code]})}),/*#__PURE__*/_jsx(MDBCol,{children:/*#__PURE__*/_jsxs(MDBCardText,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Empf\\xE4nger / Anmelder\"}),/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.importeur.name,/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.importeur.street,/*#__PURE__*/_jsx(\"br\",{}),props.declarationData.importeur.city_code,\" \",props.declarationData.importeur.city,\",\",\" \",props.declarationData.importeur.country_code]})}),/*#__PURE__*/_jsxs(MDBCol,{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Anzahl Dokumente: \"}),props.numberDocuments+2,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Verifikation: \"}),verified,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"Status der Annmeldung: \"}),props.declarationData.status_confirmation]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{md:\"8\",lg:\"9\",children:[verified==\"ausstehend\"&&confirmation==\"ausstehend\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"info\",sx:{my:1},children:\"Neue Anmeldung liegt vor. Verifikation durchf\\xFChren um Zollanmeldung zu pr\\xFCfen und zu best\\xE4tigen.\"}):null,verified==\"korrekt\"&&confirmation==\"ausstehend\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"success\",sx:{my:2},children:\"Korrektheit der Zollanmeldung wurde durch Blockchain verifiziert. Annahme der Zollanmeldung ist m\\xF6glich.\"}):null,verified==\"inkorrekt\"&&confirmation==\"ausstehend\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"error\",sx:{my:2},children:\"Daten stimmen nicht mit Blockchain \\xFCberein und wurden m\\xF6glicherweise manipuliert. Pr\\xFCfung erforderlich!\"}):null,confirmation==\"bestätigt\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"success\",sx:{my:1},children:\"Zollanmeldung angenommen.\"}):null,confirmation==\"abgelehnt\"?/*#__PURE__*/_jsx(MuiAlert,{severity:\"error\",sx:{my:1},children:\"Zollanmeldung abgelehnt.\"}):null]}),/*#__PURE__*/_jsx(MDBCol,{md:\"4\",lg:\"3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"float-end\",children:/*#__PURE__*/_jsxs(MDBBtn,{onClick:function onClick(){return handleVerification();},className:\"my-3\",children:[/*#__PURE__*/_jsx(MDBIcon,{size:\"lg\",className:\"me-2\",fas:true,icon:\"fingerprint\"}),\"Daten verifizieren\"]})})})]}),confirmation==\"ausstehend\"&&/*#__PURE__*/_jsx(_Fragment,{children:verified!==\"ausstehend\"?/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBBtn,{className:\"mx-3 mb-3\",color:\"success\",style:{width:300},onClick:toggleShowConfirmModal,children:\"Anmeldung Best\\xE4tigen\"}),/*#__PURE__*/_jsx(MDBBtn,{color:\"danger\",className:\"mx-3 mb-3\",style:{width:300},onClick:toggleShowRejectModal,children:\"Anmeldung Ablehnen\"})]}):/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsx(MDBBtn,{disabled:true,className:\"mx-3 mb-3\",color:\"success\",style:{width:300},onClick:toggleShowConfirmModal,children:\"Anmeldung Best\\xE4tigen\"}),/*#__PURE__*/_jsx(MDBBtn,{disabled:true,color:\"danger\",className:\"mx-3 mb-3\",style:{width:300},onClick:toggleShowRejectModal,children:\"Anmeldung Ablehnen\"})]})})]}),/*#__PURE__*/_jsx(MDBCardFooter,{children:/*#__PURE__*/_jsxs(MDBRow,{children:[/*#__PURE__*/_jsxs(MDBCol,{md:\"4\",children:[\"Hinzugef\\xFCgt: \",props.declarationData.transaction.date_added]}),/*#__PURE__*/_jsxs(MDBCol,{md:\"4\",children:[\"Zuletzt aktualisiert:\",\" \",props.declarationData.transaction.date_processed]})]})})]})}),/*#__PURE__*/_jsx(MDBModal,{show:rejectModal,setShow:setRejectModal,tabIndex:\"-1\",children:/*#__PURE__*/_jsx(MDBModalDialog,{children:/*#__PURE__*/_jsxs(MDBModalContent,{children:[/*#__PURE__*/_jsxs(MDBModalHeader,{children:[/*#__PURE__*/_jsx(MDBModalTitle,{children:\"Anmeldung ablehnen\"}),/*#__PURE__*/_jsx(MDBBtn,{className:\"btn-close\",color:\"none\",onClick:toggleShowRejectModal})]}),/*#__PURE__*/_jsxs(MDBModalBody,{children:[\"Wollen Sie die Zollanmeldung\",\" \",/*#__PURE__*/_jsx(\"i\",{children:props.declarationData.transaction.description}),\" wirklich ablehnen? \",/*#__PURE__*/_jsx(\"br\",{}),\"Diese Auswahl l\\xE4sst sich nicht r\\xFCckg\\xE4ngig machen.\"]}),/*#__PURE__*/_jsxs(MDBModalFooter,{children:[/*#__PURE__*/_jsx(MDBBtn,{color:\"danger\",onClick:handleReject,children:\"Ablehnen\"}),/*#__PURE__*/_jsx(MDBBtn,{outline:true,color:\"danger\",onClick:toggleShowRejectModal,children:\"Abbrechen\"})]})]})})}),/*#__PURE__*/_jsx(MDBModal,{show:confirmModal,setShow:setConfirmModal,tabIndex:\"-1\",children:/*#__PURE__*/_jsx(MDBModalDialog,{children:/*#__PURE__*/_jsxs(MDBModalContent,{children:[/*#__PURE__*/_jsxs(MDBModalHeader,{children:[/*#__PURE__*/_jsx(MDBModalTitle,{children:\"Anmeldung annehmen\"}),/*#__PURE__*/_jsx(MDBBtn,{className:\"btn-close\",color:\"none\",onClick:toggleShowConfirmModal})]}),/*#__PURE__*/_jsxs(MDBModalBody,{children:[\"Wollen Sie die Zollanmeldung\",\" \",/*#__PURE__*/_jsx(\"i\",{children:props.declarationData.transaction.description}),\" wirklich annehmen? \",/*#__PURE__*/_jsx(\"br\",{}),\"Diese Auswahl l\\xE4sst sich nicht r\\xFCckg\\xE4ngig machen.\"]}),/*#__PURE__*/_jsxs(MDBModalFooter,{children:[/*#__PURE__*/_jsx(MDBBtn,{color:\"success\",onClick:handleConfirmation,children:\"Annehmen\"}),/*#__PURE__*/_jsx(MDBBtn,{outline:true,color:\"danger\",onClick:toggleShowConfirmModal,children:\"Abbrechen\"})]})]})})})]});}export default ZollDocumentTransaction;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/components/ZollDocuments/ZollDocumentTransaction.jsx"],"names":["React","useState","MDBBtn","MDBCard","MDBCardBody","MDBCardTitle","MDBCardFooter","MDBCardText","MDBCol","MDBContainer","MDBRow","MDBModal","MDBModalDialog","MDBModalContent","MDBModalHeader","MDBModalTitle","MDBModalBody","MDBModalFooter","MDBIcon","getZollanmeldung","useAxiosPrivate","MuiAlert","ZollDocumentTransaction","props","axiosInstance","declarationData","status_verificiation","verified","setVerified","status_confirmation","confirmation","setConfirmation","abgleichBlockchain","_blockchain_zid","crypto","require","console","log","then","tx","zollwert","invoiceData","transport_costs","total_value","gesamtbetrag","lieferkosten","invoice","incoterms","lieferbedingung","exporteur","publickey","importeur","zoll","customs_office","anmelder","waehrung","currency","datum","issue_date","rechnungsposten","createHash","update","invoiceItem","digest","patch","id","handleCloseBackdrop","setSnackbarSuccess","setSnackbarMessage","handleOpenSnackbar","setReload","reload","catch","err","handleVerification","handleToggleBackdrop","blockchain_zid","res","handleConfirmation","toggleShowConfirmModal","handleReject","toggleShowRejectModal","rejectModal","setRejectModal","confirmModal","setConfirmModal","transaction","description","name","street","city_code","city","country_code","numberDocuments","my","width","date_added","date_processed"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  MDBBtn,\n  MDBCard,\n  MDBCardBody,\n  MDBCardTitle,\n  MDBCardFooter,\n  MDBCardText,\n  MDBCol,\n  MDBContainer,\n  MDBRow,\n  MDBModal,\n  MDBModalDialog,\n  MDBModalContent,\n  MDBModalHeader,\n  MDBModalTitle,\n  MDBModalBody,\n  MDBModalFooter,\n  MDBIcon,\n} from \"mdb-react-ui-kit\";\nimport { getZollanmeldung } from \"../../Web3Client.js\";\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate.js\";\n\nimport MuiAlert from \"@mui/material/Alert\";\n// Snackbar Alert\n\nfunction ZollDocumentTransaction(props) {\n  const axiosInstance = useAxiosPrivate();\n\n  const [verified, setVerified] = useState(\n    props.declarationData.status_verificiation\n  );\n\n  const [confirmation, setConfirmation] = useState(\n    props.declarationData.status_confirmation\n  );\n\n  async function abgleichBlockchain(_blockchain_zid) {\n    var crypto = require(\"crypto\");\n    console.log(\"Zollanmeldung ID:\" + _blockchain_zid);\n\n    await getZollanmeldung(_blockchain_zid) //blockchain Transaktion\n      .then((tx) => {\n        console.log(\n          \"Zollwert: \" +\n            tx[0].zollwert +\n            \", \" +\n            (props.invoiceData.transport_costs + props.invoiceData.total_value)\n        );\n        //Abgleich Blockchain-Anwender\n        if (\n          tx[0].gesamtbetrag == props.invoiceData.total_value &&\n          tx[0].zollwert ==\n            props.invoiceData.transport_costs + props.invoiceData.total_value &&\n          tx[0].lieferkosten == props.declarationData.invoice.transport_costs &&\n          tx[0].incoterms == props.declarationData.lieferbedingung &&\n          tx[0].exporteur == props.declarationData.exporteur.publickey &&\n          tx[0].importeur == props.declarationData.importeur.publickey &&\n          tx[0].zoll == props.declarationData.customs_office.publickey &&\n          tx[0].anmelder == props.declarationData.importeur.publickey &&\n          tx[1].gesamtbetrag == props.invoiceData.total_value &&\n          tx[1].waehrung == props.declarationData.invoice.currency &&\n          tx[1].exporteur == props.declarationData.exporteur.publickey &&\n          tx[1].importeur == props.declarationData.importeur.publickey &&\n          tx[1].datum == props.declarationData.invoice.issue_date &&\n          tx[1].rechnungsposten ==\n            crypto\n              .createHash(\"sha512\")\n              .update(props.invoiceData.invoiceItem)\n              .digest(\"hex\") &&\n          tx[1].lieferkosten == props.declarationData.invoice.transport_costs\n        ) {\n          console.log(\"Verifikation: Daten sind korrekt\");\n          // props.setIsVerified(true);\n          axiosInstance.patch(\n            \"declaration_auth/\" + props.declarationData.id + \"/\",\n            { status_verificiation: \"korrekt\" }\n          );\n          props.handleCloseBackdrop();\n          props.setSnackbarSuccess(true);\n          props.setSnackbarMessage(\"Korrektheit der Daten wurde verifiziert.\");\n          props.handleOpenSnackbar();\n          setVerified(\"korrekt\");\n\n          props.setReload(!props.reload);\n          return true;\n        } else {\n          console.log(\"Verifikation: Fehler liegt vor\");\n          axiosInstance.patch(\n            \"declaration_auth/\" + props.declarationData.id + \"/\",\n            { status_verificiation: \"inkorrekt\" }\n          );\n          props.handleCloseBackdrop();\n          props.setSnackbarSuccess(false);\n          props.setSnackbarMessage(\n            \"Warnung: Daten stimmen nicht mit Blockchain überein.\"\n          );\n          props.handleOpenSnackbar();\n          setVerified(\"inkorrekt\");\n\n          props.setReload(!props.reload);\n          return false;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        props.handleCloseBackdrop();\n        props.setSnackbarSuccess(false);\n        props.setSnackbarMessage(\"Fehler bei Verifikation der Daten.\");\n        return false;\n      });\n  }\n\n  async function handleVerification() {\n    //setIsVerified(true)\n    props.handleToggleBackdrop();\n    abgleichBlockchain(props.declarationData.blockchain_zid).then((res) => {\n      console.log(res);\n    });\n  }\n\n  function handleConfirmation() {\n    axiosInstance\n      .patch(\"declaration_auth/\" + props.declarationData.id + \"/\", {\n        status_confirmation: \"bestätigt\",\n      })\n      .then((res) => {\n        console.log(\"Zollanmeldung bestätigt\");\n        toggleShowConfirmModal();\n        props.setReload(!props.reload);\n        // Snackbar\n        props.setSnackbarSuccess(true);\n        props.setSnackbarMessage(\"Zollanmeldung bestätigt.\");\n        props.handleOpenSnackbar();\n        setConfirmation(\"bestätigt\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleReject() {\n    axiosInstance\n      .patch(\"declaration_auth/\" + props.declarationData.id + \"/\", {\n        status_confirmation: \"abgelehnt\",\n      })\n      .then((res) => {\n        console.log(\"Zollanmeldung abgelehnt\");\n        toggleShowRejectModal();\n        props.setReload(!props.reload);\n        // Snackbar\n        props.setSnackbarSuccess(false);\n        props.setSnackbarMessage(\"Zollanmeldung abgelehnt.\");\n        props.handleOpenSnackbar();\n        setConfirmation(\"abgelehnt\");\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // Reject Modal State\n  const [rejectModal, setRejectModal] = useState(false);\n\n  function toggleShowRejectModal() {\n    setRejectModal(!rejectModal);\n  }\n\n  // Confirm Modal State\n  const [confirmModal, setConfirmModal] = useState(false);\n\n  function toggleShowConfirmModal() {\n    setConfirmModal(!confirmModal);\n  }\n\n  return (\n    <div>\n      <MDBCard>\n        <MDBCardBody>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardTitle>\n                  {props.declarationData.transaction.description}\n                </MDBCardTitle>\n              </MDBCol>\n            </MDBRow>\n            <br />\n          </MDBContainer>\n          <MDBContainer>\n            <MDBRow>\n              <MDBCol>\n                <MDBCardText>\n                  <b>Versender</b>\n                  <br />\n                  {props.declarationData.exporteur.name}\n                  <br />\n                  {props.declarationData.exporteur.street}\n                  <br />\n                  {props.declarationData.exporteur.city_code}{\" \"}\n                  {props.declarationData.exporteur.city},{\" \"}\n                  {props.declarationData.exporteur.country_code}\n                </MDBCardText>\n              </MDBCol>\n              <MDBCol>\n                <MDBCardText>\n                  <b>Empfänger / Anmelder</b>\n                  <br />\n                  {props.declarationData.importeur.name}\n                  <br />\n                  {props.declarationData.importeur.street}\n                  <br />\n                  {props.declarationData.importeur.city_code}{\" \"}\n                  {props.declarationData.importeur.city},{\" \"}\n                  {props.declarationData.importeur.country_code}\n                </MDBCardText>\n              </MDBCol>\n              <MDBCol>\n                <b>Anzahl Dokumente: </b>\n                {/* +2 wegen Zollanmeldungs u. Rechnung */}\n                {props.numberDocuments + 2}\n                <br />\n                <br />\n                <b>Verifikation: </b>\n                {/* {props.declarationData.status_verificiation} */}\n                {verified}\n                <br />\n                <b>Status der Annmeldung: </b>\n                {props.declarationData.status_confirmation}\n              </MDBCol>\n            </MDBRow>\n            <br />\n            <MDBRow>\n              <MDBCol md=\"8\" lg=\"9\">\n                {verified == \"ausstehend\" && confirmation == \"ausstehend\" ? (\n                  <MuiAlert severity=\"info\" sx={{ my: 1 }}>\n                    Neue Anmeldung liegt vor. Verifikation durchführen um\n                    Zollanmeldung zu prüfen und zu bestätigen.\n                  </MuiAlert>\n                ) : null}\n                {verified == \"korrekt\" && confirmation == \"ausstehend\" ? (\n                  <MuiAlert severity=\"success\" sx={{ my: 2 }}>\n                    Korrektheit der Zollanmeldung wurde durch Blockchain\n                    verifiziert. Annahme der Zollanmeldung ist möglich.\n                  </MuiAlert>\n                ) : null}\n                {verified == \"inkorrekt\" && confirmation == \"ausstehend\" ? (\n                  <MuiAlert severity=\"error\" sx={{ my: 2 }}>\n                    Daten stimmen nicht mit Blockchain überein und wurden\n                    möglicherweise manipuliert. Prüfung erforderlich!\n                  </MuiAlert>\n                ) : null}\n                {confirmation == \"bestätigt\" ? (\n                  <MuiAlert severity=\"success\" sx={{ my: 1 }}>\n                    Zollanmeldung angenommen.\n                  </MuiAlert>\n                ) : null}\n                {confirmation == \"abgelehnt\" ? (\n                  <MuiAlert severity=\"error\" sx={{ my: 1 }}>\n                    Zollanmeldung abgelehnt.\n                  </MuiAlert>\n                ) : null}\n              </MDBCol>\n              <MDBCol md=\"4\" lg=\"3\">\n                <div className=\"float-end\">\n                  {/* {props.isVerified ? (\n                    <MDBBtn className=\"my-3\">Daten sind verifiziert</MDBBtn>\n                  ) : ( */}\n                  <MDBBtn onClick={() => handleVerification()} className=\"my-3\">\n                    <MDBIcon\n                      size=\"lg\"\n                      className=\"me-2\"\n                      fas\n                      icon=\"fingerprint\"\n                    />\n                    Daten verifizieren\n                  </MDBBtn>\n                  {/* )} */}\n                </div>\n              </MDBCol>\n            </MDBRow>\n            {confirmation == \"ausstehend\" && (\n              <>\n                {verified !== \"ausstehend\" ? (\n                  <MDBRow>\n                    <MDBBtn\n                      className=\"mx-3 mb-3\"\n                      color=\"success\"\n                      style={{ width: 300 }}\n                      onClick={toggleShowConfirmModal}\n                    >\n                      Anmeldung Bestätigen\n                    </MDBBtn>\n                    <MDBBtn\n                      color=\"danger\"\n                      className=\"mx-3 mb-3\"\n                      style={{ width: 300 }}\n                      onClick={toggleShowRejectModal}\n                    >\n                      Anmeldung Ablehnen\n                    </MDBBtn>\n                  </MDBRow>\n                ) : (\n                  <MDBRow>\n                    <MDBBtn\n                      disabled\n                      className=\"mx-3 mb-3\"\n                      color=\"success\"\n                      style={{ width: 300 }}\n                      onClick={toggleShowConfirmModal}\n                    >\n                      Anmeldung Bestätigen\n                    </MDBBtn>\n                    <MDBBtn\n                      disabled\n                      color=\"danger\"\n                      className=\"mx-3 mb-3\"\n                      style={{ width: 300 }}\n                      onClick={toggleShowRejectModal}\n                    >\n                      Anmeldung Ablehnen\n                    </MDBBtn>\n                  </MDBRow>\n                )}\n              </>\n            )}\n          </MDBContainer>\n          <MDBCardFooter>\n            <MDBRow>\n              <MDBCol md=\"4\">\n                Hinzugefügt: {props.declarationData.transaction.date_added}\n              </MDBCol>\n              <MDBCol md=\"4\">\n                Zuletzt aktualisiert:{\" \"}\n                {props.declarationData.transaction.date_processed}\n              </MDBCol>\n            </MDBRow>\n          </MDBCardFooter>\n        </MDBCardBody>\n      </MDBCard>\n\n      {/* Modal Anmeldung ablehnen */}\n      <MDBModal show={rejectModal} setShow={setRejectModal} tabIndex=\"-1\">\n        <MDBModalDialog>\n          <MDBModalContent>\n            <MDBModalHeader>\n              <MDBModalTitle>Anmeldung ablehnen</MDBModalTitle>\n              <MDBBtn\n                className=\"btn-close\"\n                color=\"none\"\n                onClick={toggleShowRejectModal}\n              ></MDBBtn>\n            </MDBModalHeader>\n            <MDBModalBody>\n              Wollen Sie die Zollanmeldung{\" \"}\n              <i>{props.declarationData.transaction.description}</i> wirklich\n              ablehnen? <br />\n              Diese Auswahl lässt sich nicht rückgängig machen.\n            </MDBModalBody>\n\n            <MDBModalFooter>\n              <MDBBtn color=\"danger\" onClick={handleReject}>\n                Ablehnen\n              </MDBBtn>\n              <MDBBtn outline color=\"danger\" onClick={toggleShowRejectModal}>\n                Abbrechen\n              </MDBBtn>\n            </MDBModalFooter>\n          </MDBModalContent>\n        </MDBModalDialog>\n      </MDBModal>\n\n      {/* Modal Anmeldung annehmen */}\n      <MDBModal show={confirmModal} setShow={setConfirmModal} tabIndex=\"-1\">\n        <MDBModalDialog>\n          <MDBModalContent>\n            <MDBModalHeader>\n              <MDBModalTitle>Anmeldung annehmen</MDBModalTitle>\n              <MDBBtn\n                className=\"btn-close\"\n                color=\"none\"\n                onClick={toggleShowConfirmModal}\n              ></MDBBtn>\n            </MDBModalHeader>\n            <MDBModalBody>\n              Wollen Sie die Zollanmeldung{\" \"}\n              <i>{props.declarationData.transaction.description}</i> wirklich\n              annehmen? <br />\n              Diese Auswahl lässt sich nicht rückgängig machen.\n            </MDBModalBody>\n\n            <MDBModalFooter>\n              <MDBBtn color=\"success\" onClick={handleConfirmation}>\n                Annehmen\n              </MDBBtn>\n              <MDBBtn outline color=\"danger\" onClick={toggleShowConfirmModal}>\n                Abbrechen\n              </MDBBtn>\n            </MDBModalFooter>\n          </MDBModalContent>\n        </MDBModalDialog>\n      </MDBModal>\n    </div>\n  );\n}\n\nexport default ZollDocumentTransaction;\n"]},"metadata":{},"sourceType":"module"}