{"ast":null,"code":"var _jsxFileName = \"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport PreviewInvoice from \"../components/Documents/PreviewInvoice\";\nimport PreviewOther from \"../components/Documents/PreviewOther\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DocumentDetail() {\n  _s();\n\n  //URL Parameter abfragen\n  const {\n    documentID\n  } = useParams();\n  const axiosInstance = useAxiosPrivate();\n  const [documentData, setDocumentData] = useState();\n  const [invoiceData, setInvoiceData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [isInvoice, setIsInvoice] = useState(false);\n  useEffect(() => {\n    console.log(documentData);\n  }, [documentData]);\n  useEffect(() => {\n    axiosInstance.get(`/documents/${documentID}/`).then(res => {\n      setDocumentData(res.data);\n\n      if (res.data.type == \"Rechnung\") {\n        setIsInvoice(true);\n      }\n    });\n  }, []);\n  useEffect(() => {\n    if (isInvoice) {\n      axiosInstance.get(`/invoice/${documentID}/`).then(res => {\n        setInvoiceData(res.data);\n\n        if (res.data.type == \"Rechnung\") {\n          setIsInvoice(true);\n        }\n      });\n    }\n\n    setIsLoading(false);\n  }, [isInvoice]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(MDBSpinner, {\n      grow: true,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"visually-hidden\",\n        children: \"L\\xE4dt..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this) : isInvoice ? /*#__PURE__*/_jsxDEV(PreviewInvoice, {\n      invoiceData: invoiceData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }, this) : /*#__PURE__*/_jsxDEV(PreviewOther, {\n      documentData: documentData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }, this)\n  }, void 0, false);\n}\n\n_s(DocumentDetail, \"LOYQkyYuVZsQxGA8se/kUkmgu+c=\", false, function () {\n  return [useParams, useAxiosPrivate];\n});\n\n_c = DocumentDetail;\nexport default DocumentDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"DocumentDetail\");","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentDetail.jsx"],"names":["React","useState","useEffect","useParams","useAxiosPrivate","PreviewInvoice","PreviewOther","DocumentDetail","documentID","axiosInstance","documentData","setDocumentData","invoiceData","setInvoiceData","isLoading","setIsLoading","isInvoice","setIsInvoice","console","log","get","then","res","data","type"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AACA,OAAOC,YAAP,MAAyB,sCAAzB;;;;AAEA,SAASC,cAAT,GAA2B;AAAA;;AAEvB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAiBL,SAAS,EAAhC;AACA,QAAMM,aAAa,GAAGL,eAAe,EAArC;AACA,QAAM,CAACM,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,EAAhD;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,EAA9C;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,IAAD,CAA1C;AAEA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;AAIAC,EAAAA,SAAS,CAAC,MAAM;AACZgB,IAAAA,OAAO,CAACC,GAAR,CAAYT,YAAZ;AACH,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,aAAa,CAACW,GAAd,CAAmB,cAAaZ,UAAW,GAA3C,EACCa,IADD,CACOC,GAAD,IAAS;AACXX,MAAAA,eAAe,CAACW,GAAG,CAACC,IAAL,CAAf;;AACA,UAAID,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAe,UAAnB,EAA+B;AAC3BP,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;AACJ,KAND;AAOH,GARQ,EAQN,EARM,CAAT;AAUAf,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,SAAJ,EAAe;AACXP,MAAAA,aAAa,CAACW,GAAd,CAAmB,YAAWZ,UAAW,GAAzC,EACKa,IADL,CACWC,GAAD,IAAS;AACXT,QAAAA,cAAc,CAACS,GAAG,CAACC,IAAL,CAAd;;AACA,YAAID,GAAG,CAACC,IAAJ,CAASC,IAAT,IAAe,UAAnB,EAA+B;AAC3BP,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;AACJ,OANL;AAOH;;AACDF,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GAXQ,EAWP,CAACC,SAAD,CAXO,CAAT;AAaA,sBAAQ;AAAA,cACHF,SAAS,gBAEN,QAAC,UAAD;AAAY,MAAA,IAAI,MAAhB;AAAA,6BACI;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAFM,GAKME,SAAS,gBACL,QAAC,cAAD;AACK,MAAA,WAAW,EAAIJ;AADpB;AAAA;AAAA;AAAA;AAAA,YADK,gBAKL,QAAC,YAAD;AACI,MAAA,YAAY,EAAIF;AADpB;AAAA;AAAA;AAAA;AAAA;AAXhB,mBAAR;AAwBH;;GAhEQH,c;UAGkBJ,S,EACDC,e;;;KAJjBG,c;AAkET,eAAeA,cAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport PreviewInvoice from \"../components/Documents/PreviewInvoice\";\nimport PreviewOther from \"../components/Documents/PreviewOther\";\n\nfunction DocumentDetail () {\n\n    //URL Parameter abfragen\n    const { documentID } = useParams()\n    const axiosInstance = useAxiosPrivate()\n    const [documentData, setDocumentData] = useState()\n    const [invoiceData, setInvoiceData] = useState()\n    const [isLoading, setIsLoading] = useState(true)\n\n    const [isInvoice, setIsInvoice] = useState(false)\n    \n\n\n    useEffect(() => {\n        console.log(documentData)\n    }, [documentData])\n\n    useEffect(() => {\n        axiosInstance.get(`/documents/${documentID}/`)\n        .then((res) => {\n            setDocumentData(res.data)\n            if (res.data.type==\"Rechnung\") {\n                setIsInvoice(true)\n            }\n        })\n    }, [])\n\n    useEffect(() => {\n        if (isInvoice) {\n            axiosInstance.get(`/invoice/${documentID}/`)\n                .then((res) => {\n                    setInvoiceData(res.data)\n                    if (res.data.type==\"Rechnung\") {\n                        setIsInvoice(true)\n                    }\n                })\n        } \n        setIsLoading(false)\n    },[isInvoice])\n\n    return (<>\n        {isLoading ? (        \n        \n            <MDBSpinner grow>\n                <span className=\"visually-hidden\">LÃ¤dt..</span>\n            </MDBSpinner>) : (\n                        isInvoice ? (\n                            <PreviewInvoice \n                                 invoiceData = {invoiceData}\n                            ></PreviewInvoice>    \n                        ): (\n                            <PreviewOther\n                                documentData = {documentData}\n                            ></PreviewOther>\n                        )\n            )}\n       \n        \n\n\n    </>\n\n\n    )\n}\n\nexport default DocumentDetail;"]},"metadata":{},"sourceType":"module"}