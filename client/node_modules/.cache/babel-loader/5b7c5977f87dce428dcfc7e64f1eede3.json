{"ast":null,"code":"import _asyncToGenerator from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{useParams,useLocation}from\"react-router-dom\";import useAxiosPrivate from\"../hooks/useAxiosPrivate\";import\"./css/LoadingSpinner.css\";import{MDBContainer,MDBBtn,MDBRow,MDBCol,MDBSpinner,MDBBadge,MDBIcon}from\"mdb-react-ui-kit\";import Divider from\"@mui/material/Divider\";import Snackbar from\"@mui/material/Snackbar\";import MuiAlert from\"@mui/material/Alert\";import DocumentsModal from\"../components/Documents/DocumentsModal\";import ImporteurDocumentsModal from\"../components/Documents/ImporteurDocumentsModal\";import DocumentTransaction from\"../components/Documents/DocumentTransaction\";import DocumentCard from\"../components/Documents/DocumentCard\";import DeclarationCard from\"../components/Documents/DeclarationCard\";import DocumentBreadcrump from\"../components/Documents/DocumentBreadcrumb\";import useAuth from\"../hooks/useAuth\";// Snackbar-Alert\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({elevation:6,ref:ref,variant:\"filled\"},props));});function DocumentsNew(props){// Für Rückkehr von Zollanmeldung\nvar location=useLocation();var declarationLocationState=location.state;console.log(declarationLocationState);// Auslösen des Snackbar-Alerts bei Rückerkehr von Zollanmeldung\nuseEffect(function(){console.log(declarationLocationState);if(declarationLocationState!==null){setSnackbarSuccess(declarationLocationState.success);setSnackbarMessage(declarationLocationState.message);handleOpenSnackbar();}},[declarationLocationState]);// Allgemeine Auftragsinformationen\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),transactionData=_useState2[0],setTransactionData=_useState2[1];// Informationen der hochgeladenen Dokumente\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),documentsData=_useState4[0],setDocumentsData=_useState4[1];// State für Ladeanimation\nvar _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var axiosInstance=useAxiosPrivate();// Derzeitiger User ist Importeur oder Exporteur\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isImporteur=_useState8[0],setIsImporteur=_useState8[1];// State wird in Document Upload Modal weitergereicht.\n// Löst useEffect aus, sobald neues Dokument hochgeladen wurde.\nvar _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),newDocument=_useState10[0],setNewDocument=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isDeclaration=_useState12[0],setIsDeclaration=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),declarationData=_useState14[0],setDeclarationData=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),totalValue=_useState16[0],setTotalValue=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),invoiceData=_useState18[0],setInvoiceData=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),isInvoice=_useState20[0],setIsInvoice=_useState20[1];// Anzahl Dokumente\nvar _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),numberInvoiceDocuments=_useState22[0],setNumberInvoiceDocuments=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),numberOtherDocuments=_useState24[0],setNumberOtherDocuments=_useState24[1];// State für \"Dokument hinzufügen\" Modal\nvar _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),addDocumentModal=_useState26[0],setAddDocumentModal=_useState26[1];// Funktion für Manipulation von Modal (als props weitergereicht)\nfunction toggleAddDocumentModal(){setAddDocumentModal(!addDocumentModal);}// Speichern der Transaktions-ID aus URL\nvar _useParams=useParams(),transactionId=_useParams.transactionId;var _useAuth=useAuth(),auth=_useAuth.auth;// DB Call\nuseEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axiosInstance.get(\"transactions/\"+transactionId).then(function(res){//console.log(res.data);\nsetTransactionData(res.data);if(auth.eori_nr==res.data.importeur){setIsImporteur(true);}});case 2:console.log(transactionData);_context.next=5;return axiosInstance.get(\"documents/?transaction=\"+transactionId).then(function(res){//console.log(res.data);\nsetDocumentsData(res.data);});case 5:_context.next=7;return axiosInstance.get(\"declaration_auth/?transaction=\"+transactionId).then(function(res){console.log(res.data.length);if(res.data[0]){axiosInstance.get(\"invoice/\"+res.data[0].invoice.id+\"/\").then(function(resInvoice){setTotalValue(resInvoice.data.total_value);//console.log(res.data.total_value)\n//console.log(res.data.total_value)\nsetInvoiceData(resInvoice.data);setIsInvoice(true);}).catch(function(err){console.log(\"Keine Rechnung vorhanden\");setIsInvoice(false);});}else{setIsInvoice(false);}if(res.data.length>0){console.log(\"Zollanmeldung liegt vor\");setIsDeclaration(true);setDeclarationData(res.data[0]);}});case 7:setIsLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);})),[newDocument]);// Wenn neues Dokument hinzugefügt wird GET-Request erneut ausgeführt\n// Summiert Anzahl von Dokumenten,\n// immer wenn sich documentsData verändert\nuseEffect(function(){var invoices=0;var other=0;for(var i=0;i<documentsData.length;i++){if(documentsData[i].type==\"Rechnung\"){invoices+=1;}else{other+=1;}}setNumberInvoiceDocuments(invoices);setNumberOtherDocuments(other);},[documentsData]);// -- Snackbar-Alert Rückmeldung --\n// State: Geöffnet (true) / Geschlossen (false)\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),openSnackbar=_useState28[0],setOpenSnackbar=_useState28[1];// State: Succcess (true) / Error (false)\nvar _useState29=useState(true),_useState30=_slicedToArray(_useState29,2),snackbarSuccess=_useState30[0],setSnackbarSuccess=_useState30[1];// State: Snackbar Nachricht\nvar _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),snackbarMessage=_useState32[0],setSnackbarMessage=_useState32[1];// Öffnen der Snackbar\nvar handleOpenSnackbar=function handleOpenSnackbar(){setOpenSnackbar(true);};// Schließen der Snackbar\nvar handleCloseSnackbar=function handleCloseSnackbar(event,reason){if(reason===\"clickaway\"){return;}setOpenSnackbar(false);};return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loadingSpinner\",children:/*#__PURE__*/_jsx(MDBSpinner,{children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"L\\xE4dt..\"})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Dokumente\"}),isImporteur==true?/*#__PURE__*/_jsx(ImporteurDocumentsModal// Modal\n,{addDocumentModal:addDocumentModal,setAddDocumentModal:setAddDocumentModal,toggleAddDocumentModal:toggleAddDocumentModal,transactionData:transactionData// Update State bei neuem Dokument\n,newDocument:newDocument,setNewDocument:setNewDocument// Snackbar\n,handleOpenSnackbar:handleOpenSnackbar,handleCloseSnackbar:handleCloseSnackbar,setSnackbarSuccess:setSnackbarSuccess,setSnackbarMessage:setSnackbarMessage}):/*#__PURE__*/_jsx(DocumentsModal// Modal\n,{addDocumentModal:addDocumentModal,setAddDocumentModal:setAddDocumentModal,toggleAddDocumentModal:toggleAddDocumentModal,transactionData:transactionData// Update State bei neuem Dokument\n,newDocument:newDocument,setNewDocument:setNewDocument// Snackbar\n,handleOpenSnackbar:handleOpenSnackbar,handleCloseSnackbar:handleCloseSnackbar,setSnackbarSuccess:setSnackbarSuccess,setSnackbarMessage:setSnackbarMessage}),/*#__PURE__*/_jsx(DocumentBreadcrump,{transactionId:transactionId},transactionId),/*#__PURE__*/_jsx(DocumentTransaction,{description:transactionData.description,dateAdded:transactionData.date_added,dateProcessed:transactionData.date_processed,status:transactionData.status,street:transactionData.partnership.partner.street,cityCode:transactionData.partnership.partner.city_code,countryCode:transactionData.partnership.partner.country_code,city:transactionData.partnership.partner.city,name:transactionData.partnership.partner.name,id:transactionData.id,blockchain_rid:transactionData.blockchain_id,transactionData:transactionData,isImporteur:isImporteur,numberInvoiceDocuments:numberInvoiceDocuments,numberOtherDocuments:numberOtherDocuments,isDeclaration:isDeclaration}),/*#__PURE__*/_jsx(\"nav\",{className:\"my-3 navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(MDBContainer,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[isDeclaration?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MDBBadge,{pill:true,className:\"ms-3\",children:1}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Zollanmeldung\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MDBBadge,{pill:true,className:\"ms-3\",children:0}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Zollanmeldung\"})]}),/*#__PURE__*/_jsx(MDBBadge,{pill:true,className:\"ms-3\",children:numberInvoiceDocuments}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Rechnungsdokumente\"}),/*#__PURE__*/_jsx(MDBBadge,{pill:true,className:\"ms-3\",children:numberOtherDocuments}),\" \",/*#__PURE__*/_jsx(\"b\",{children:\"Sonstige Dokumente\"})]}),/*#__PURE__*/_jsxs(MDBBtn,{className:\"float-end\",color:\"success\",onClick:toggleAddDocumentModal,children:[/*#__PURE__*/_jsx(MDBIcon,{size:\"lg\",className:\"me-2\",fas:true,icon:\"plus\"}),\"Dokument hinzuf\\xFCgen\"]})]})}),isDeclaration&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{textAlign:\"left\",className:\"mb-4\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Zollanmeldung\"})}),/*#__PURE__*/_jsx(DeclarationCard,{anmeldeArt:declarationData.anmeldeArt,gesamtbetrag:totalValue,bearbeitendeDienststelle:declarationData.customs_office.name,lieferkosten:declarationData.invoice.transport_costs,documentId:documentsData.documentId,anmelderName:declarationData.importeur.name,issue_date:declarationData.date_added})]}),numberInvoiceDocuments!==0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{textAlign:\"left\",className:\"mt-5 mb-4\",children:numberInvoiceDocuments==1?/*#__PURE__*/_jsx(\"h5\",{children:\"Rechnungsdokument\"}):/*#__PURE__*/_jsx(\"h5\",{children:\"Rechnungsdokumente\"})}),\" \",/*#__PURE__*/_jsx(MDBRow,{children:documentsData.map(function(documentData){return documentData.type==\"Rechnung\"&&/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(MDBCol,{className:\"mb-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(DocumentCard,{id:documentData.id,author_company:documentData.owner.employee.company.name,author:documentData.owner.username,type:documentData.type,description:documentData.description,documentDate:documentData.issue_date,uploadDate:documentData.upload_date,blockchain_did:documentData.blockchain_did,file:documentData.file,confirmed:documentData.confirmed},documentData.id)})});})})]}),numberOtherDocuments!==0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{textAlign:\"left\",className:\"mt-5 mb-4\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Sonstige Dokumente\"})}),/*#__PURE__*/_jsx(MDBRow,{children:documentsData.map(function(documentData){return documentData.type!==\"Rechnung\"&&/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(MDBCol,{className:\"mb-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(DocumentCard,{id:documentData.id,author:documentData.author,type:documentData.type,description:documentData.description,documentDate:documentData.issue_date,uploadDate:documentData.upload_date,file:documentData.file,confirmed:documentData.confirmed,blockchain_did:documentData.blockchain_id},documentData.id)})});})})]}),isDeclaration==false&&numberInvoiceDocuments==0&&numberOtherDocuments==0?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center \",style:{height:\"400px\"},children:/*#__PURE__*/_jsx(\"h4\",{style:{color:\"grey\"},children:\"Es liegen noch keine Dokumente vor.\"})}):null]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:\"top\",horizontal:\"right\"},open:openSnackbar,autoHideDuration:6000,onClose:handleCloseSnackbar,className:\"mt-5\",children:snackbarSuccess==true?/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnackbar,severity:\"success\",sx:{width:\"100%\"},children:snackbarMessage}):/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnackbar,severity:\"error\",sx:{width:\"100%\"},children:snackbarMessage})})]})});}export default DocumentsNew;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentsNew.jsx"],"names":["React","useEffect","useState","useParams","useLocation","useAxiosPrivate","MDBContainer","MDBBtn","MDBRow","MDBCol","MDBSpinner","MDBBadge","MDBIcon","Divider","Snackbar","MuiAlert","DocumentsModal","ImporteurDocumentsModal","DocumentTransaction","DocumentCard","DeclarationCard","DocumentBreadcrump","useAuth","Alert","forwardRef","props","ref","DocumentsNew","location","declarationLocationState","state","console","log","setSnackbarSuccess","success","setSnackbarMessage","message","handleOpenSnackbar","transactionData","setTransactionData","documentsData","setDocumentsData","isLoading","setIsLoading","axiosInstance","isImporteur","setIsImporteur","newDocument","setNewDocument","isDeclaration","setIsDeclaration","declarationData","setDeclarationData","totalValue","setTotalValue","invoiceData","setInvoiceData","isInvoice","setIsInvoice","numberInvoiceDocuments","setNumberInvoiceDocuments","numberOtherDocuments","setNumberOtherDocuments","addDocumentModal","setAddDocumentModal","toggleAddDocumentModal","transactionId","auth","get","then","res","data","eori_nr","importeur","length","invoice","id","resInvoice","total_value","catch","err","invoices","other","i","type","openSnackbar","setOpenSnackbar","snackbarSuccess","snackbarMessage","handleCloseSnackbar","event","reason","description","date_added","date_processed","status","partnership","partner","street","city_code","country_code","city","name","blockchain_id","anmeldeArt","customs_office","transport_costs","documentId","map","documentData","owner","employee","company","username","issue_date","upload_date","blockchain_did","file","confirmed","author","height","color","vertical","horizontal","width"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useLocation } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport \"./css/LoadingSpinner.css\";\nimport {\n  MDBContainer,\n  MDBBtn,\n  MDBRow,\n  MDBCol,\n  MDBSpinner,\n  MDBBadge,\n  MDBIcon,\n} from \"mdb-react-ui-kit\";\nimport Divider from \"@mui/material/Divider\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport MuiAlert from \"@mui/material/Alert\";\n\nimport DocumentsModal from \"../components/Documents/DocumentsModal\";\nimport ImporteurDocumentsModal from \"../components/Documents/ImporteurDocumentsModal\";\nimport DocumentTransaction from \"../components/Documents/DocumentTransaction\";\nimport DocumentCard from \"../components/Documents/DocumentCard\";\nimport DeclarationCard from \"../components/Documents/DeclarationCard\";\nimport DocumentBreadcrump from \"../components/Documents/DocumentBreadcrumb\";\nimport useAuth from \"../hooks/useAuth\";\n\n// Snackbar-Alert\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nfunction DocumentsNew(props) {\n  // Für Rückkehr von Zollanmeldung\n  let location = useLocation();\n  let declarationLocationState = location.state;\n  console.log(declarationLocationState);\n\n  // Auslösen des Snackbar-Alerts bei Rückerkehr von Zollanmeldung\n  useEffect(() => {\n    console.log(declarationLocationState);\n    if (declarationLocationState !== null) {\n      setSnackbarSuccess(declarationLocationState.success);\n      setSnackbarMessage(declarationLocationState.message);\n      handleOpenSnackbar();\n    }\n  }, [declarationLocationState]);\n\n  // Allgemeine Auftragsinformationen\n  const [transactionData, setTransactionData] = useState([]);\n\n  // Informationen der hochgeladenen Dokumente\n  const [documentsData, setDocumentsData] = useState([]);\n\n  // State für Ladeanimation\n  const [isLoading, setIsLoading] = useState(true);\n\n  const axiosInstance = useAxiosPrivate();\n\n  // Derzeitiger User ist Importeur oder Exporteur\n  const [isImporteur, setIsImporteur] = useState(false);\n\n  // State wird in Document Upload Modal weitergereicht.\n  // Löst useEffect aus, sobald neues Dokument hochgeladen wurde.\n  const [newDocument, setNewDocument] = useState(false);\n\n  const [isDeclaration, setIsDeclaration] = useState(false);\n  const [declarationData, setDeclarationData] = useState();\n  const [totalValue, setTotalValue] = useState(true);\n  const [invoiceData, setInvoiceData] = useState();\n  const [isInvoice, setIsInvoice] = useState();\n\n  // Anzahl Dokumente\n  const [numberInvoiceDocuments, setNumberInvoiceDocuments] = useState(0);\n  const [numberOtherDocuments, setNumberOtherDocuments] = useState(0);\n\n  // State für \"Dokument hinzufügen\" Modal\n  const [addDocumentModal, setAddDocumentModal] = useState(false);\n  // Funktion für Manipulation von Modal (als props weitergereicht)\n  function toggleAddDocumentModal() {\n    setAddDocumentModal(!addDocumentModal);\n  }\n\n  // Speichern der Transaktions-ID aus URL\n  const { transactionId } = useParams();\n  const { auth } = useAuth();\n\n  // DB Call\n  useEffect(async () => {\n    await axiosInstance.get(`transactions/` + transactionId).then((res) => {\n      //console.log(res.data);\n      setTransactionData(res.data);\n      if (auth.eori_nr == res.data.importeur) {\n        setIsImporteur(true);\n      }\n    });\n    console.log(transactionData);\n    await axiosInstance\n      .get(`documents/?transaction=` + transactionId)\n      .then((res) => {\n        //console.log(res.data);\n        setDocumentsData(res.data);\n      });\n\n    await axiosInstance\n      .get(`declaration_auth/?transaction=` + transactionId)\n      .then((res) => {\n        console.log(res.data.length);\n        if (res.data[0]) {\n          axiosInstance\n            .get(\"invoice/\" + res.data[0].invoice.id + \"/\")\n            .then((resInvoice) => {\n              setTotalValue(resInvoice.data.total_value);\n              //console.log(res.data.total_value)\n              setInvoiceData(resInvoice.data);\n              setIsInvoice(true);\n            })\n            .catch((err) => {\n              console.log(\"Keine Rechnung vorhanden\");\n              setIsInvoice(false);\n            });\n        } else {\n          setIsInvoice(false);\n        }\n        if (res.data.length > 0) {\n          console.log(\"Zollanmeldung liegt vor\");\n          setIsDeclaration(true);\n          setDeclarationData(res.data[0]);\n        }\n      });\n\n    setIsLoading(false);\n  }, [newDocument]);\n  // Wenn neues Dokument hinzugefügt wird GET-Request erneut ausgeführt\n\n  // Summiert Anzahl von Dokumenten,\n  // immer wenn sich documentsData verändert\n  useEffect(() => {\n    let invoices = 0;\n    let other = 0;\n    for (let i = 0; i < documentsData.length; i++) {\n      if (documentsData[i].type == \"Rechnung\") {\n        invoices += 1;\n      } else {\n        other += 1;\n      }\n    }\n    setNumberInvoiceDocuments(invoices);\n    setNumberOtherDocuments(other);\n  }, [documentsData]);\n\n  // -- Snackbar-Alert Rückmeldung --\n  // State: Geöffnet (true) / Geschlossen (false)\n  const [openSnackbar, setOpenSnackbar] = useState(false);\n  // State: Succcess (true) / Error (false)\n  const [snackbarSuccess, setSnackbarSuccess] = useState(true);\n  // State: Snackbar Nachricht\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\");\n\n  // Öffnen der Snackbar\n  const handleOpenSnackbar = () => {\n    setOpenSnackbar(true);\n  };\n\n  // Schließen der Snackbar\n  const handleCloseSnackbar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpenSnackbar(false);\n  };\n\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"loadingSpinner\">\n          <MDBSpinner>\n            <span className=\"visually-hidden\">Lädt..</span>\n          </MDBSpinner>\n        </div>\n      ) : (\n        <>\n          <MDBContainer>\n            <h3>Dokumente</h3>\n            {/* Dokumenten Modal */}\n            {isImporteur == true ? (\n              <ImporteurDocumentsModal\n                // Modal\n                addDocumentModal={addDocumentModal}\n                setAddDocumentModal={setAddDocumentModal}\n                toggleAddDocumentModal={toggleAddDocumentModal}\n                transactionData={transactionData}\n                // Update State bei neuem Dokument\n                newDocument={newDocument}\n                setNewDocument={setNewDocument}\n                // Snackbar\n                handleOpenSnackbar={handleOpenSnackbar}\n                handleCloseSnackbar={handleCloseSnackbar}\n                setSnackbarSuccess={setSnackbarSuccess}\n                setSnackbarMessage={setSnackbarMessage}\n              />\n            ) : (\n              <DocumentsModal\n                // Modal\n                addDocumentModal={addDocumentModal}\n                setAddDocumentModal={setAddDocumentModal}\n                toggleAddDocumentModal={toggleAddDocumentModal}\n                transactionData={transactionData}\n                // Update State bei neuem Dokument\n                newDocument={newDocument}\n                setNewDocument={setNewDocument}\n                // Snackbar\n                handleOpenSnackbar={handleOpenSnackbar}\n                handleCloseSnackbar={handleCloseSnackbar}\n                setSnackbarSuccess={setSnackbarSuccess}\n                setSnackbarMessage={setSnackbarMessage}\n              />\n            )}\n            <DocumentBreadcrump\n              key={transactionId}\n              transactionId={transactionId}\n            />\n            <DocumentTransaction\n              description={transactionData.description}\n              dateAdded={transactionData.date_added}\n              dateProcessed={transactionData.date_processed}\n              status={transactionData.status}\n              street={transactionData.partnership.partner.street}\n              cityCode={transactionData.partnership.partner.city_code}\n              countryCode={transactionData.partnership.partner.country_code}\n              city={transactionData.partnership.partner.city}\n              name={transactionData.partnership.partner.name}\n              id={transactionData.id}\n              blockchain_rid={transactionData.blockchain_id}\n              transactionData={transactionData}\n              isImporteur={isImporteur}\n              numberInvoiceDocuments={numberInvoiceDocuments}\n              numberOtherDocuments={numberOtherDocuments}\n              isDeclaration={isDeclaration}\n            />\n            {/* Navleiste mit Anzahl der Dokumente */}\n            <nav className=\"my-3 navbar navbar-expand-lg navbar-light bg-light\">\n              <MDBContainer>\n                <div>\n                  {isDeclaration ? (\n                    <>\n                      <MDBBadge pill className=\"ms-3\">\n                        {1}\n                      </MDBBadge>{\" \"}\n                      <b>Zollanmeldung</b>\n                    </>\n                  ) : (\n                    <>\n                      <MDBBadge pill className=\"ms-3\">\n                        {0}\n                      </MDBBadge>{\" \"}\n                      <b>Zollanmeldung</b>\n                    </>\n                  )}\n                  <MDBBadge pill className=\"ms-3\">\n                    {numberInvoiceDocuments}\n                  </MDBBadge>{\" \"}\n                  <b>Rechnungsdokumente</b>\n                  <MDBBadge pill className=\"ms-3\">\n                    {numberOtherDocuments}\n                  </MDBBadge>{\" \"}\n                  <b>Sonstige Dokumente</b>\n                </div>\n                <MDBBtn\n                  className=\"float-end\"\n                  color=\"success\"\n                  onClick={toggleAddDocumentModal}\n                >\n                  <MDBIcon size=\"lg\" className=\"me-2\" fas icon=\"plus\" />\n                  Dokument hinzufügen\n                </MDBBtn>\n              </MDBContainer>\n            </nav>\n            {/* Auflistung der Rechnungsdokumente */}\n            {isDeclaration && (\n              <>\n                <Divider textAlign=\"left\" className=\"mb-4\">\n                  <h5>Zollanmeldung</h5>\n                </Divider>\n                <DeclarationCard\n                  anmeldeArt={declarationData.anmeldeArt}\n                  gesamtbetrag={totalValue}\n                  bearbeitendeDienststelle={declarationData.customs_office.name}\n                  lieferkosten={declarationData.invoice.transport_costs}\n                  documentId={documentsData.documentId}\n                  anmelderName={declarationData.importeur.name}\n                  issue_date={declarationData.date_added}\n                />\n              </>\n            )}\n\n            {/* Auflistung der Rechnungsdokumente */}\n            {numberInvoiceDocuments !== 0 && (\n              <>\n                <Divider textAlign=\"left\" className=\"mt-5 mb-4\">\n                  {numberInvoiceDocuments == 1 ? (\n                    <h5>Rechnungsdokument</h5>\n                  ) : (\n                    <h5>Rechnungsdokumente</h5>\n                  )}\n                </Divider>{\" \"}\n                <MDBRow>\n                  {documentsData.map(\n                    (documentData) =>\n                      documentData.type == \"Rechnung\" && (\n                        <React.Fragment>\n                          <MDBCol className=\"mb-4 d-flex justify-content-center\">\n                            <DocumentCard\n                              key={documentData.id}\n                              id={documentData.id}\n                              author_company={\n                                documentData.owner.employee.company.name\n                              }\n                              author={documentData.owner.username}\n                              type={documentData.type}\n                              description={documentData.description}\n                              documentDate={documentData.issue_date}\n                              uploadDate={documentData.upload_date}\n                              blockchain_did={documentData.blockchain_did}\n                              file={documentData.file}\n                              confirmed={documentData.confirmed}\n                            />\n                          </MDBCol>\n                        </React.Fragment>\n                      )\n                  )}\n                </MDBRow>\n              </>\n            )}\n\n            {/* Auflistung der sonstigen Dokumente */}\n            {numberOtherDocuments !== 0 && (\n              <>\n                <Divider textAlign=\"left\" className=\"mt-5 mb-4\">\n                  <h5>Sonstige Dokumente</h5>\n                </Divider>\n                <MDBRow>\n                  {documentsData.map(\n                    (documentData) =>\n                      documentData.type !== \"Rechnung\" && (\n                        <React.Fragment>\n                          <MDBCol className=\"mb-4 d-flex justify-content-center\">\n                            <DocumentCard\n                              key={documentData.id}\n                              id={documentData.id}\n                              author={documentData.author}\n                              type={documentData.type}\n                              description={documentData.description}\n                              documentDate={documentData.issue_date}\n                              uploadDate={documentData.upload_date}\n                              file={documentData.file}\n                              confirmed={documentData.confirmed}\n                              blockchain_did={documentData.blockchain_id}\n                            />\n                          </MDBCol>\n                        </React.Fragment>\n                      )\n                  )}\n                </MDBRow>\n              </>\n            )}\n\n            {/* Fals 0 Dokumente vorliegen */}\n            {isDeclaration == false &&\n            numberInvoiceDocuments == 0 &&\n            numberOtherDocuments == 0 ? (\n              <div\n                className=\"d-flex align-items-center justify-content-center \"\n                style={{\n                  height: \"400px\",\n                }}\n              >\n                <h4\n                  style={{\n                    color: \"grey\",\n                  }}\n                >\n                  Es liegen noch keine Dokumente vor.\n                </h4>\n              </div>\n            ) : null}\n          </MDBContainer>\n          <Snackbar\n            anchorOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n            open={openSnackbar}\n            autoHideDuration={6000}\n            onClose={handleCloseSnackbar}\n            className=\"mt-5\"\n          >\n            {snackbarSuccess == true ? (\n              <Alert\n                onClose={handleCloseSnackbar}\n                severity=\"success\"\n                sx={{ width: \"100%\" }}\n              >\n                {snackbarMessage}\n              </Alert>\n            ) : (\n              <Alert\n                onClose={handleCloseSnackbar}\n                severity=\"error\"\n                sx={{ width: \"100%\" }}\n              >\n                {snackbarMessage}\n              </Alert>\n            )}\n          </Snackbar>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default DocumentsNew;\n"]},"metadata":{},"sourceType":"module"}