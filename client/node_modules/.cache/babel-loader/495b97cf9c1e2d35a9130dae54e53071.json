{"ast":null,"code":"import _slicedToArray from\"/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import useAxiosPrivate from\"../hooks/useAxiosPrivate\";import PreviewInvoice from\"../components/Documents/PreviewInvoice\";import PreviewOther from\"../components/Documents/PreviewOther\";import{MDBSpinner}from\"mdb-react-ui-kit\";import\"./css/LoadingSpinner.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DocumentDetail(){//URL Parameter abfragen\nvar _useParams=useParams(),documentID=_useParams.documentID;var axiosInstance=useAxiosPrivate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),documentData=_useState2[0],setDocumentData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),invoiceData=_useState4[0],setInvoiceData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),transactionData=_useState6[0],setTransactionData=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),fileLink=_useState10[0],setFileLink=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isInvoice=_useState12[0],setIsInvoice=_useState12[1];useEffect(function(){axiosInstance.get(\"/documents/\".concat(documentID,\"/\")).then(function(res){setDocumentData(res.data);axiosInstance.get(\"/transactions/\".concat(res.data.transaction,\"/\")).then(function(resT){setTransactionData(resT.data);if(res.data.type==\"Rechnung\"){axiosInstance.get(\"/invoice/\".concat(documentID,\"/\")).then(function(res){setInvoiceData(res.data);if(res.data.type==\"Rechnung\"){setIsInvoice(true);setIsLoading(false);}});}else{axiosInstance.get(\"/file/\".concat(res.data.file,\"/\")).then(function(resF){setFileLink(resF.data.file);setIsLoading(false);});}});});},[]);useEffect(function(){},[]);return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"loadingSpinner\",children:/*#__PURE__*/_jsx(MDBSpinner,{children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"L\\xE4dt..\"})})}):isInvoice?/*#__PURE__*/_jsx(PreviewInvoice,{invoiceData:invoiceData,transactionData:transactionData}):/*#__PURE__*/_jsx(PreviewOther,{documentData:documentData,transactionData:transactionData,fileLink:fileLink})});}export default DocumentDetail;","map":{"version":3,"sources":["/Users/stephan/Dropbox/Entwicklung/webdev/projektstudium/client/src/pages/DocumentDetail.jsx"],"names":["React","useState","useEffect","useParams","useAxiosPrivate","PreviewInvoice","PreviewOther","MDBSpinner","DocumentDetail","documentID","axiosInstance","documentData","setDocumentData","invoiceData","setInvoiceData","transactionData","setTransactionData","isLoading","setIsLoading","fileLink","setFileLink","isInvoice","setIsInvoice","get","then","res","data","transaction","resT","type","file","resF"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,eAAP,KAA4B,0BAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,wCAA3B,CACA,MAAOC,CAAAA,YAAP,KAAyB,sCAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,0BAAP,C,gGAEA,QAASC,CAAAA,cAAT,EAA0B,CACxB;AACA,eAAuBL,SAAS,EAAhC,CAAQM,UAAR,YAAQA,UAAR,CACA,GAAMC,CAAAA,aAAa,CAAGN,eAAe,EAArC,CACA,cAAwCH,QAAQ,EAAhD,wCAAOU,YAAP,eAAqBC,eAArB,eACA,eAAsCX,QAAQ,EAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eACA,eAA8Cb,QAAQ,EAAtD,yCAAOc,eAAP,eAAwBC,kBAAxB,eACA,eAAkCf,QAAQ,CAAC,IAAD,CAA1C,yCAAOgB,SAAP,eAAkBC,YAAlB,eACA,eAAgCjB,QAAQ,EAAxC,0CAAOkB,QAAP,gBAAiBC,WAAjB,gBAEA,gBAAkCnB,QAAQ,CAAC,KAAD,CAA1C,2CAAOoB,SAAP,gBAAkBC,YAAlB,gBAEApB,SAAS,CAAC,UAAM,CACdQ,aAAa,CAACa,GAAd,sBAAgCd,UAAhC,OAA+Ce,IAA/C,CAAoD,SAACC,GAAD,CAAS,CAC3Db,eAAe,CAACa,GAAG,CAACC,IAAL,CAAf,CACAhB,aAAa,CACVa,GADH,yBACwBE,GAAG,CAACC,IAAJ,CAASC,WADjC,OAEGH,IAFH,CAEQ,SAACI,IAAD,CAAU,CACdZ,kBAAkB,CAACY,IAAI,CAACF,IAAN,CAAlB,CACA,GAAID,GAAG,CAACC,IAAJ,CAASG,IAAT,EAAiB,UAArB,CAAiC,CAC/BnB,aAAa,CAACa,GAAd,oBAA8Bd,UAA9B,OAA6Ce,IAA7C,CAAkD,SAACC,GAAD,CAAS,CACzDX,cAAc,CAACW,GAAG,CAACC,IAAL,CAAd,CACA,GAAID,GAAG,CAACC,IAAJ,CAASG,IAAT,EAAiB,UAArB,CAAiC,CAC/BP,YAAY,CAAC,IAAD,CAAZ,CACAJ,YAAY,CAAC,KAAD,CAAZ,CACD,CACF,CAND,EAOD,CARD,IAQO,CACLR,aAAa,CAACa,GAAd,iBAA2BE,GAAG,CAACC,IAAJ,CAASI,IAApC,OAA6CN,IAA7C,CAAkD,SAACO,IAAD,CAAU,CAC1DX,WAAW,CAACW,IAAI,CAACL,IAAL,CAAUI,IAAX,CAAX,CACAZ,YAAY,CAAC,KAAD,CAAZ,CACD,CAHD,EAID,CACF,CAlBH,EAmBD,CArBD,EAsBD,CAvBQ,CAuBN,EAvBM,CAAT,CAyBAhB,SAAS,CAAC,UAAM,CAAE,CAAT,CAAW,EAAX,CAAT,CAEA,mBACE,yBACGe,SAAS,cACR,YAAK,SAAS,CAAC,gBAAf,uBACE,KAAC,UAAD,wBACE,aAAM,SAAS,CAAC,iBAAhB,uBADF,EADF,EADQ,CAMNI,SAAS,cACX,KAAC,cAAD,EACE,WAAW,CAAER,WADf,CAEE,eAAe,CAAEE,eAFnB,EADW,cAMX,KAAC,YAAD,EACE,YAAY,CAAEJ,YADhB,CAEE,eAAe,CAAEI,eAFnB,CAGE,QAAQ,CAAEI,QAHZ,EAbJ,EADF,CAsBD,CAED,cAAeX,CAAAA,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\nimport PreviewInvoice from \"../components/Documents/PreviewInvoice\";\nimport PreviewOther from \"../components/Documents/PreviewOther\";\nimport { MDBSpinner } from \"mdb-react-ui-kit\";\nimport \"./css/LoadingSpinner.css\";\n\nfunction DocumentDetail() {\n  //URL Parameter abfragen\n  const { documentID } = useParams();\n  const axiosInstance = useAxiosPrivate();\n  const [documentData, setDocumentData] = useState();\n  const [invoiceData, setInvoiceData] = useState();\n  const [transactionData, setTransactionData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const [fileLink, setFileLink] = useState();\n\n  const [isInvoice, setIsInvoice] = useState(false);\n\n  useEffect(() => {\n    axiosInstance.get(`/documents/${documentID}/`).then((res) => {\n      setDocumentData(res.data);\n      axiosInstance\n        .get(`/transactions/${res.data.transaction}/`)\n        .then((resT) => {\n          setTransactionData(resT.data);\n          if (res.data.type == \"Rechnung\") {\n            axiosInstance.get(`/invoice/${documentID}/`).then((res) => {\n              setInvoiceData(res.data);\n              if (res.data.type == \"Rechnung\") {\n                setIsInvoice(true);\n                setIsLoading(false);\n              }\n            });\n          } else {\n            axiosInstance.get(`/file/${res.data.file}/`).then((resF) => {\n              setFileLink(resF.data.file);\n              setIsLoading(false);\n            });\n          }\n        });\n    });\n  }, []);\n\n  useEffect(() => {}, []);\n\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"loadingSpinner\">\n          <MDBSpinner>\n            <span className=\"visually-hidden\">LÃ¤dt..</span>\n          </MDBSpinner>\n        </div>\n      ) : isInvoice ? (\n        <PreviewInvoice\n          invoiceData={invoiceData}\n          transactionData={transactionData}\n        ></PreviewInvoice>\n      ) : (\n        <PreviewOther\n          documentData={documentData}\n          transactionData={transactionData}\n          fileLink={fileLink}\n        ></PreviewOther>\n      )}\n    </>\n  );\n}\n\nexport default DocumentDetail;\n"]},"metadata":{},"sourceType":"module"}